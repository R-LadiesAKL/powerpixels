<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Code examples</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet" />
<script src="site_libs/pagedtable-1.1/js/pagedtable.js"></script>
<link rel="icon" type="image/png" sizes="16x16" href="logo.png">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-65065542-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-65065542-1');
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    background-color: #2a211c;
    color: #bdae9d;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #bdae9d;  padding-left: 4px; }
div.sourceCode
  { color: #bdae9d; background-color: #2a211c; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ffff00; } /* Alert */
code span.an { color: #0066ff; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #44aa43; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #43a8ed; font-weight: bold; } /* ControlFlow */
code span.ch { color: #049b0a; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #0066ff; font-weight: bold; font-style: italic; } /* Comment */
code span.do { color: #0066ff; font-style: italic; } /* Documentation */
code span.dt { text-decoration: underline; } /* DataType */
code span.dv { color: #44aa43; } /* DecVal */
code span.er { color: #ffff00; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #44aa43; } /* Float */
code span.fu { color: #ff9358; font-weight: bold; } /* Function */
code span.im { } /* Import */
code span.in { color: #0066ff; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #43a8ed; font-weight: bold; } /* Keyword */
code span.op { } /* Operator */
code span.pp { font-weight: bold; } /* Preprocessor */
code span.sc { color: #049b0a; } /* SpecialChar */
code span.ss { color: #049b0a; } /* SpecialString */
code span.st { color: #049b0a; } /* String */
code span.va { } /* Variable */
code span.vs { color: #049b0a; } /* VerbatimString */
code span.wa { color: #ffff00; font-weight: bold; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style-all.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}

.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><img id='logo' style='width: 40px; float:left; margin-right:10px' src='rladies.gif' /> The power of pixels <br /><span class='special'>Using R to explore and exploit features of images</span></a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="notes.html">Notes</a>
</li>
<li>
  <a href="live.html">Live code</a>
</li>
<li>
  <a href="draw.html">Draw</a>
</li>
<li>
  <a href="code.html">Code</a>
</li>
<li>
  <a href="links.html">Links</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Code examples</h1>

</div>


<p>Here are some code examples used in the workshop activities, for reference when needed :-)</p>
<p>These examples use the following packages:<br />
– <code>magick</code><br />
– <code>gganimate</code> (from github)<br />
– <code>ggimage</code><br />
– <code>nullabor</code><br />
– <code>tidyverse</code><br />
and assume that you’re working within a project.</p>
<div id="section" class="section level2 tabset">
<h2></h2>
<div id="images-to-R" class="section level3">
<h3>getting images into R</h3>
<p>We’ll use the R package <a href="https://cran.r-project.org/web/packages/magick/vignettes/intro.html"><code>magick</code></a> to read images into R and do some exploration and manipulation of the image data. This example uses images from the CC0 image site <a href="https://www.pexels.com/">pexels.com</a>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">library</span>(magick)</a>
<a class="sourceLine" id="cb1-2" data-line-number="2"></a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co"># read an image</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">imageURL &lt;-<span class="st"> &quot;https://images.pexels.com/photos/21492/pexels-photo.jpg&quot;</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="kw">image_read</span>(imageURL)</a></code></pre></div>
<p><img src="code_files/figure-html/images-to-R-1.png" width="2592" /></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># scale it down to reduce the pixels</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">image_small &lt;-<span class="st"> </span><span class="kw">image_read</span>(imageURL) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="st">  </span><span class="kw">image_scale</span>(<span class="st">&quot;10&quot;</span>)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co"># and blow it up to see those pixels</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6">image_small <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="st">  </span><span class="kw">image_scale</span>(<span class="st">&quot;200&quot;</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/images-to-R-2.png" width="100" /></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># get data about the image</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">img_data &lt;-<span class="st"> </span>image_small <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb3-3" data-line-number="3"><span class="st">  </span><span class="kw">image_data</span>()</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="co"># and show the matrix just for the red component (in hex)</span></a>
<a class="sourceLine" id="cb3-6" data-line-number="6">img_matrix &lt;-<span class="st"> </span><span class="kw">t</span>(img_data[<span class="dv">1</span>,,])</a>
<a class="sourceLine" id="cb3-7" data-line-number="7">img_matrix</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## [1,]   78   85   51   31   50   79   39   a9   53    73
## [2,]   69   a4   6f   88   ea   eb   95   ae   77    d5
## [3,]   2c   79   e1   81   93   82   85   93   5c    24
## [4,]   26   40   8f   6c   7f   8f   9b   bc   79    2a
## [5,]   12   15   21   40   5e   6a   86   dc   a2    27
## [6,]   0c   0e   12   20   33   42   4c   87   6b    1e
## [7,]   06   07   0c   13   1d   2b   2a   45   37    11</code></pre>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># reduce the image down to just one colour and display</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2">image_small <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="st">  </span><span class="kw">image_scale</span>(<span class="st">&quot;200&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="st">  </span><span class="kw">image_quantize</span>(<span class="dt">max=</span><span class="dv">1</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/images-to-R-3.png" width="100" /></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># convert the image to grayscale and save the image data</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2">gs_data &lt;-<span class="st"> </span>image_small <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw">image_quantize</span>(<span class="dt">colorspace =</span> <span class="st">&quot;gray&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">  </span><span class="kw">image_data</span>()</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="co"># and show the matrix just for the red component (in hex)</span></a>
<a class="sourceLine" id="cb6-7" data-line-number="7">gs_matrix &lt;-<span class="st"> </span>gs_data[<span class="dv">1</span>,,] <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb6-8" data-line-number="8"><span class="st">  </span><span class="kw">t</span>()</a>
<a class="sourceLine" id="cb6-9" data-line-number="9">gs_matrix</a></code></pre></div>
<pre><code>##      [,1] [,2] [,3] [,4] [,5] [,6] [,7] [,8] [,9] [,10]
## [1,]   58   66   44   33   32   81   3c   90   47    78
## [2,]   52   81   60   88   bb   d6   84   c0   7c    d8
## [3,]   21   5d   e0   7b   94   82   8a   a2   63    28
## [4,]   1d   32   8e   42   41   79   97   b6   70    28
## [5,]   11   12   1c   20   26   40   68   bd   86    24
## [6,]   0c   0d   10   15   1b   29   37   6a   53    1b
## [7,]   06   07   0b   0f   13   1c   1e   34   2a    0f</code></pre>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="co"># create one long vector of all the pixels with the red component</span></a>
<a class="sourceLine" id="cb8-2" data-line-number="2"><span class="co"># because it&#39;s grayscale, red = green = blue</span></a>
<a class="sourceLine" id="cb8-3" data-line-number="3">gs_vector &lt;-<span class="st"> </span>gs_data[<span class="dv">1</span>,,] <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb8-4" data-line-number="4"><span class="st">  </span><span class="kw">as.vector</span>()</a>
<a class="sourceLine" id="cb8-5" data-line-number="5">gs_vector</a></code></pre></div>
<pre><code>##  [1] 58 66 44 33 32 81 3c 90 47 78 52 81 60 88 bb d6 84 c0 7c d8 21 5d e0
## [24] 7b 94 82 8a a2 63 28 1d 32 8e 42 41 79 97 b6 70 28 11 12 1c 20 26 40
## [47] 68 bd 86 24 0c 0d 10 15 1b 29 37 6a 53 1b 06 07 0b 0f 13 1c 1e 34 2a
## [70] 0f</code></pre>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb10-1" data-line-number="1"><span class="co"># create a dataframe of the pixels converted to rgb (red component)</span></a>
<a class="sourceLine" id="cb10-2" data-line-number="2">gs_df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">gs =</span> <span class="kw">as.numeric</span>(gs_vector), <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb10-3" data-line-number="3">gs_df</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["gs"],"name":[1],"type":["dbl"],"align":["right"]}],"data":[{"1":"88"},{"1":"102"},{"1":"68"},{"1":"51"},{"1":"50"},{"1":"129"},{"1":"60"},{"1":"144"},{"1":"71"},{"1":"120"},{"1":"82"},{"1":"129"},{"1":"96"},{"1":"136"},{"1":"187"},{"1":"214"},{"1":"132"},{"1":"192"},{"1":"124"},{"1":"216"},{"1":"33"},{"1":"93"},{"1":"224"},{"1":"123"},{"1":"148"},{"1":"130"},{"1":"138"},{"1":"162"},{"1":"99"},{"1":"40"},{"1":"29"},{"1":"50"},{"1":"142"},{"1":"66"},{"1":"65"},{"1":"121"},{"1":"151"},{"1":"182"},{"1":"112"},{"1":"40"},{"1":"17"},{"1":"18"},{"1":"28"},{"1":"32"},{"1":"38"},{"1":"64"},{"1":"104"},{"1":"189"},{"1":"134"},{"1":"36"},{"1":"12"},{"1":"13"},{"1":"16"},{"1":"21"},{"1":"27"},{"1":"41"},{"1":"55"},{"1":"106"},{"1":"83"},{"1":"27"},{"1":"6"},{"1":"7"},{"1":"11"},{"1":"15"},{"1":"19"},{"1":"28"},{"1":"30"},{"1":"52"},{"1":"42"},{"1":"15"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb11-1" data-line-number="1"><span class="co"># reduce the grayscale image down to just one colour and display</span></a>
<a class="sourceLine" id="cb11-2" data-line-number="2">gs_one &lt;-<span class="st"> </span>image_small <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-3" data-line-number="3"><span class="st">  </span><span class="kw">image_scale</span>(<span class="st">&quot;200&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-4" data-line-number="4"><span class="st">  </span><span class="kw">image_quantize</span>(<span class="dt">colorspace =</span> <span class="st">&quot;gray&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-5" data-line-number="5"><span class="st">  </span><span class="kw">image_quantize</span>(<span class="dt">max=</span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb11-6" data-line-number="6"></a>
<a class="sourceLine" id="cb11-7" data-line-number="7"><span class="co"># get the red component value</span></a>
<a class="sourceLine" id="cb11-8" data-line-number="8">rgb_colour &lt;-<span class="st"> </span><span class="kw">image_data</span>(gs_one)[<span class="dv">1</span>,,][<span class="dv">1</span>,<span class="dv">1</span>] <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-9" data-line-number="9"><span class="st">  </span><span class="kw">as.numeric</span>() <span class="op">%&gt;%</span><span class="st"> </span></a>
<a class="sourceLine" id="cb11-10" data-line-number="10"><span class="st">  </span><span class="kw">as.character</span>()</a>
<a class="sourceLine" id="cb11-11" data-line-number="11"></a>
<a class="sourceLine" id="cb11-12" data-line-number="12"><span class="co"># take the one colour grayscale image</span></a>
<a class="sourceLine" id="cb11-13" data-line-number="13"><span class="co"># and display the red component value on top</span></a>
<a class="sourceLine" id="cb11-14" data-line-number="14">gs_one <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb11-15" data-line-number="15"><span class="st">  </span><span class="kw">image_annotate</span>(rgb_colour, <span class="dt">size=</span><span class="dv">30</span>,<span class="dt">location=</span><span class="st">&quot;+75+50&quot;</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/images-to-R-4.png" width="100" /></p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb12-1" data-line-number="1"><span class="co"># let&#39;s explore the photos from the match up activity</span></a>
<a class="sourceLine" id="cb12-2" data-line-number="2"><span class="co"># read them once since they are BIG files</span></a>
<a class="sourceLine" id="cb12-3" data-line-number="3">cute_cats &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;https://images.pexels.com/photos/774731/pexels-photo-774731.jpeg&quot;</span>,<span class="st">&quot;https://images.pexels.com/photos/1084425/pexels-photo-1084425.jpeg&quot;</span>,<span class="st">&quot;https://images.pexels.com/photos/1049764/pexels-photo-1049764.jpeg&quot;</span>,<span class="st">&quot;https://images.pexels.com/photos/104827/cat-pet-animal-domestic-104827.jpeg&quot;</span>,<span class="st">&quot;https://images.pexels.com/photos/315582/pexels-photo-315582.jpeg&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-4" data-line-number="4"><span class="st">  </span><span class="kw">image_read</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb12-5" data-line-number="5"><span class="st">  </span><span class="kw">image_scale</span>(<span class="st">&quot;200&quot;</span>)</a>
<a class="sourceLine" id="cb12-6" data-line-number="6"></a>
<a class="sourceLine" id="cb12-7" data-line-number="7"><span class="co"># which was cat 1?</span></a>
<a class="sourceLine" id="cb12-8" data-line-number="8">cute_cats[<span class="dv">1</span>]</a></code></pre></div>
<p><img src="code_files/figure-html/images-to-R-5.png" width="100" /></p>
</div>
<div id="plots-plus-images" class="section level3">
<h3>plots + images</h3>
<p>We’ll add the use of R packages from the <a href=""><code>tidyverse</code></a>, specifically <code>readr</code>, <code>dplyr</code> and <code>ggplot2</code>, as well as the packages <code>ggimage</code> to visualise data about movies with robot in their title using our own robot icons and <code>gganimate</code> to liven things up.</p>
<p>First, use the <a href="draw.html">drawing tool</a> to create your own robot icon and copy the URL link to your image. You’ll need to change this link in the code below :-)</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb13-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb13-2" data-line-number="2"><span class="kw">library</span>(magick)</a>
<a class="sourceLine" id="cb13-3" data-line-number="3"><span class="kw">library</span>(ggimage)</a>
<a class="sourceLine" id="cb13-4" data-line-number="4"><span class="kw">library</span>(gganimate)</a>
<a class="sourceLine" id="cb13-5" data-line-number="5"></a>
<a class="sourceLine" id="cb13-6" data-line-number="6"><span class="co"># view your image in R</span></a>
<a class="sourceLine" id="cb13-7" data-line-number="7"><span class="kw">image_read</span>(<span class="st">&quot;https://drive.google.com/uc?export=download&amp;id=1muwNrReMtBJIOZaXKlN_hVGFe-shhi0e&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb13-8" data-line-number="8"><span class="st">  </span><span class="kw">image_scale</span>(<span class="st">&quot;400&quot;</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/plots-plus-images-1.png" width="200" /></p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb14-1" data-line-number="1"><span class="co"># save it!</span></a>
<a class="sourceLine" id="cb14-2" data-line-number="2"><span class="kw">image_read</span>(<span class="st">&quot;https://drive.google.com/uc?export=download&amp;id=1muwNrReMtBJIOZaXKlN_hVGFe-shhi0e&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb14-3" data-line-number="3"><span class="st">  </span><span class="kw">image_write</span>(<span class="st">&quot;myrobot.png&quot;</span>)</a>
<a class="sourceLine" id="cb14-4" data-line-number="4"></a>
<a class="sourceLine" id="cb14-5" data-line-number="5"><span class="co"># read in robot data</span></a>
<a class="sourceLine" id="cb14-6" data-line-number="6">robot_df &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://docs.google.com/spreadsheets/d/e/2PACX-1vTAvomBmRHCu6T3Mewu3yuEHy8eViekI2WXJTOLDxDrldXc-gYEE2LjiWa1CTgXmXRRJFqf5leNn4NW/pub?gid=0&amp;single=true&amp;output=csv&quot;</span>)</a>
<a class="sourceLine" id="cb14-7" data-line-number="7">robot_df</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Title"],"name":[1],"type":["chr"],"align":["left"]},{"label":["Year"],"name":[2],"type":["int"],"align":["right"]},{"label":["imdbID"],"name":[3],"type":["chr"],"align":["left"]},{"label":["Type"],"name":[4],"type":["chr"],"align":["left"]}],"data":[{"1":"I, Robot","2":"2004","3":"tt0343818","4":"movie"},{"1":"Robot & Frank","2":"2012","3":"tt1990314","4":"movie"},{"1":"Robot Chicken: Star Wars","2":"2007","3":"tt1020990","4":"movie"},{"1":"Robot Overlords","2":"2014","3":"tt2145829","4":"movie"},{"1":"Robot Jox","2":"1989","3":"tt0102800","4":"movie"},{"1":"Robot Monster","2":"1953","3":"tt0046248","4":"movie"},{"1":"Robot Chicken: Star Wars Episode II","2":"2008","3":"tt1334272","4":"movie"},{"1":"Robot Chicken: Star Wars III","2":"2010","3":"tt1691338","4":"movie"},{"1":"The Aztec Mummy Against the Humanoid Robot","2":"1958","3":"tt0050717","4":"movie"},{"1":"Robot Chicken: DC Comics Special","2":"2012","3":"tt2381287","4":"movie"},{"1":"Robot Stories","2":"2003","3":"tt0301777","4":"movie"},{"1":"Robot Holocaust","2":"1986","3":"tt0093872","4":"movie"},{"1":"Robot Carnival","2":"1987","3":"tt0093871","4":"movie"},{"1":"Rogue Warrior: Robot Fighter","2":"2017","3":"tt4937114","4":"movie"},{"1":"Robot Wars","2":"1993","3":"tt0107979","4":"movie"},{"1":"Robot Chicken DC Comics Special II: Villains in Paradise","2":"2014","3":"tt3578794","4":"movie"},{"1":"Robowar - Robot da guerra","2":"1988","3":"tt0096000","4":"movie"},{"1":"Robot Chicken DC Comics Special 3: Magical Friendship","2":"2015","3":"tt5028778","4":"movie"},{"1":"Robot World","2":"2015","3":"tt4083740","4":"movie"},{"1":"Glenn, the Flying Robot","2":"2010","3":"tt0934446","4":"movie"},{"1":"Gay Robot","2":"2006","3":"tt0783342","4":"movie"},{"1":"Robot Ninja","2":"1989","3":"tt0100503","4":"movie"},{"1":"The Robot Giant","2":"2012","3":"tt2630526","4":"movie"},{"1":"Saving Mother Robot","2":"2013","3":"tt3296434","4":"movie"},{"1":"Robot Rabbit","2":"1953","3":"tt0046249","4":"movie"},{"1":"Robot Bastard!","2":"2002","3":"tt0418106","4":"movie"},{"1":"Casshan: Robot Hunter","2":"1993","3":"tt0281699","4":"movie"},{"1":"Robot Contest","2":"2003","3":"tt0397614","4":"movie"},{"1":"The Birth of the Robot","2":"1936","3":"tt0027364","4":"movie"},{"1":"Robot Wars","2":"2016","3":"tt2179237","4":"movie"},{"1":"OMG, I'm a Robot!","2":"2015","3":"tt2819130","4":"movie"},{"1":"UFO Robot Grendizer","2":"1975","3":"tt0423582","4":"movie"},{"1":"Robot Sound","2":"2016","3":"tt4788944","4":"movie"},{"1":"Doraemon: Nobita and the Robot Kingdom","2":"2002","3":"tt1147526","4":"movie"},{"1":"Robot Revolution","2":"2015","3":"tt4333578","4":"movie"},{"1":"Kikaider: The Ultimate Human Robot","2":"2014","3":"tt3502284","4":"movie"},{"1":"Run Robot Run!","2":"2006","3":"tt0498383","4":"movie"},{"1":"Monkey Versus Robot","2":"1999","3":"tt0223752","4":"movie"},{"1":"Robot & Scarecrow","2":"2017","3":"tt4460802","4":"movie"},{"1":"Robot in the Family","2":"1994","3":"tt0294880","4":"movie"},{"1":"Robot Taekwon V","2":"1976","3":"tt0245655","4":"movie"},{"1":"My Sex Robot","2":"2010","3":"tt6920930","4":"movie"},{"1":"The Robot","2":"1932","3":"tt0023408","4":"movie"},{"1":"Space Odyssey: The Robot Pioneers","2":"2004","3":"tt0434352","4":"movie"},{"1":"Robot Wrecks","2":"1941","3":"tt0034122","4":"movie"},{"1":"Robot Revolution: The Making of 'I, Robot'","2":"2004","3":"tt0427788","4":"movie"},{"1":"Las luchadoras vs el robot asesino","2":"1969","3":"tt0134797","4":"movie"},{"1":"Egghead's Robot","2":"1970","3":"tt0183032","4":"movie"},{"1":"Robot Boy","2":"2003","3":"tt0448250","4":"movie"},{"1":"Robby the Robot: Engineering a Sci-Fi Icon","2":"2006","3":"tt0909825","4":"movie"},{"1":"Nestasni robot","2":"1956","3":"tt0147183","4":"movie"},{"1":"Hillbilly Robot","2":"2001","3":"tt0306952","4":"movie"},{"1":"Girl and Robot","2":"2008","3":"tt1548247","4":"movie"},{"1":"Robot on the Road","2":"2015","3":"tt6450204","4":"movie"},{"1":"Dr. Satan's Robot","2":"1966","3":"tt0060344","4":"movie"},{"1":"The Saturn Avenger vs. the Terror Robot","2":"1996","3":"tt0261969","4":"movie"},{"1":"Day Out of Days: The 'I, Robot' Production Diaries","2":"2004","3":"tt0457853","4":"movie"},{"1":"Robot","2":"1963","3":"tt2241477","4":"movie"},{"1":"Robot-ussin","2":"2005","3":"tt0477841","4":"movie"},{"1":"The Horrible Livingroom Robot","2":"2000","3":"tt0373909","4":"movie"},{"1":"The Robot Chicken Lots of Holidays (But Don't Worry Christmas Is Still in There So Pull the Stick Out of Your Ass Fox News) Special","2":"2014","3":"tt4263026","4":"movie"},{"1":"The Robot of Regalio","2":"1956","3":"tt0133184","4":"movie"},{"1":"Neil's New Robot","2":"2010","3":"tt1951201","4":"movie"},{"1":"Robot","2":"2010","3":"tt2048849","4":"movie"},{"1":"The Creepees vs. Robot Monster Number Two","2":"2004","3":"tt0395124","4":"movie"},{"1":"Action Man: Robot Atak","2":"2004","3":"tt3970146","4":"movie"},{"1":"Robot Boy","2":"2004","3":"tt0439787","4":"movie"},{"1":"Rodney's Robot Revolution","2":"2008","3":"tt1350504","4":"movie"},{"1":"Portrait-robot","2":"1962","3":"tt0056361","4":"movie"},{"1":"Wakusei robo Dangard A tai konchu robot Gundan","2":"1977","3":"tt0142971","4":"movie"},{"1":"Robot Taekwon V: Wooju jakjeon","2":"1976","3":"tt1862489","4":"movie"},{"1":"Robot Taekwon V 3tan! Sujung teukgongdae","2":"1977","3":"tt1865490","4":"movie"},{"1":"Die Robot: Armed Forces","2":"2016","3":"tt5940834","4":"movie"},{"1":"Probable Robot","2":"2015","3":"tt4079034","4":"movie"},{"1":"3086: Robot Like a Boss","2":"2012","3":"tt2244618","4":"movie"},{"1":"Robot Movie","2":"2004","3":"tt0765842","4":"movie"},{"1":"Escape! From Robot Island","2":"2008","3":"tt1256502","4":"movie"},{"1":"Robot Masters","2":"2004","3":"tt0448715","4":"movie"},{"1":"The Domestication of the Incredible LMNO Robot","2":"2005","3":"tt0455938","4":"movie"},{"1":"Robot","2":"2002","3":"tt0388380","4":"movie"},{"1":"Robot-Girl Nr. 1","2":"1938","3":"tt1458775","4":"movie"},{"1":"ASIMO: The Most Intelligent Robot Ever Made","2":"2012","3":"tt1947953","4":"movie"},{"1":"Golden Robot","2":"2015","3":"tt4774610","4":"movie"},{"1":"Robot Girlfriend","2":"2010","3":"tt1865489","4":"movie"},{"1":"Catholic Robot","2":"2010","3":"tt1674252","4":"movie"},{"1":"Robot e Pinocchi","2":"2011","3":"tt1967582","4":"movie"},{"1":"L'interprÃ©tation des rÃªves ou Les aventures du robot bleu","2":"2008","3":"tt1357431","4":"movie"},{"1":"De Robins en het Robot komplot","2":"1972","3":"tt0069187","4":"movie"},{"1":"Robot Ringer","2":"1962","3":"tt0152208","4":"movie"},{"1":"The Robot Family","2":"2000","3":"tt0193469","4":"movie"},{"1":"Robot Love","2":"2000","3":"tt0219277","4":"movie"},{"1":"Robot Detective K","2":"1973","3":"tt0185645","4":"movie"},{"1":"V-1: The Robot Bomb","2":"1944","3":"tt0186671","4":"movie"},{"1":"Robot Rival","2":"1964","3":"tt0152209","4":"movie"},{"1":"Mechanizacja robÃ³t ziemnych","2":"1951","3":"tt0171516","4":"movie"},{"1":"Three Robot Heroes","2":"1981","3":"tt0334278","4":"movie"},{"1":"Hold Me with Your Robot Hand","2":"2000","3":"tt0335590","4":"movie"},{"1":"El robot embustero","2":"1966","3":"tt0145439","4":"movie"},{"1":"The Robot, the Bully and the Friends","2":"2008","3":"tt1358877","4":"movie"},{"1":"My Robot","2":"2009","3":"tt1359001","4":"movie"},{"1":"Tommy the Tungsten Robot","2":"2008","3":"tt1365658","4":"movie"},{"1":"The Robot Team","2":"2009","3":"tt1367101","4":"movie"},{"1":"Radar Robot Saves Shimokita 2","2":"2008","3":"tt1382328","4":"movie"},{"1":"3x Super Robot Heartbreak","2":"2007","3":"tt1413932","4":"movie"},{"1":"Robot Love","2":"2007","3":"tt1423425","4":"movie"},{"1":"Robot Time","2":"1999","3":"tt1424545","4":"movie"},{"1":"Robot","2":"2005","3":"tt1424686","4":"movie"},{"1":"Digital Love of a Robot Soul","2":"2009","3":"tt1432917","4":"movie"},{"1":"Robot Blues","2":"1995","3":"tt0498711","4":"movie"},{"1":"Robot Rumpus","2":"2003","3":"tt0787506","4":"movie"},{"1":"Robot Man vs Ochomonster","2":"2005","3":"tt0794332","4":"movie"},{"1":"Incontrando robot","2":"1989","3":"tt0357790","4":"movie"},{"1":"Depth Charge: Underwater Robot Challenge","2":"2002","3":"tt0368681","4":"movie"},{"1":"Â¡Robot!","2":"1970","3":"tt0413621","4":"movie"},{"1":"Robot Star Zangga","2":"1988","3":"tt0417092","4":"movie"},{"1":"Jaak ja robot","2":"1965","3":"tt0452264","4":"movie"},{"1":"Robot Sumo","2":"2010","3":"tt2034768","4":"movie"},{"1":"Robot Combat","2":"2011","3":"tt2106617","4":"movie"},{"1":"A Menina, o Gato e o Robot","2":"1982","3":"tt2115280","4":"movie"},{"1":"Frog/Robot","2":"2011","3":"tt2128457","4":"movie"},{"1":"Robot Attack!.. With Love","2":"2010","3":"tt2128529","4":"movie"},{"1":"The Farmer and the Robot","2":"2011","3":"tt2128696","4":"movie"},{"1":"Super Robot Bodyguard","2":"2011","3":"tt2130212","4":"movie"},{"1":"Roberto and the Robot","2":"2009","3":"tt1872155","4":"movie"},{"1":"Robot","2":"2008","3":"tt1883325","4":"movie"},{"1":"Robot","2":"2011","3":"tt1922701","4":"movie"},{"1":"Sad Robot :(","2":"2011","3":"tt1935217","4":"movie"},{"1":"Robot Love","2":"2007","3":"tt1474845","4":"movie"},{"1":"Yo, robot?","2":"1997","3":"tt1493311","4":"movie"},{"1":"Robot pro 5","2":"2009","3":"tt1499310","4":"movie"},{"1":"Robot Monster: Special Edition","2":"1982","3":"tt1509230","4":"movie"},{"1":"Robot Adventures with Robosapien and Friends: Introduction to Robots","2":"2010","3":"tt1568928","4":"movie"},{"1":"Robot and Ghost","2":"2009","3":"tt1600870","4":"movie"},{"1":"Radar Robot Saves Shimokita","2":"2006","3":"tt1604909","4":"movie"},{"1":"Polo's Robot","2":"2010","3":"tt1634844","4":"movie"},{"1":"Major Power and the Robot from Saturn","2":"2010","3":"tt1674091","4":"movie"},{"1":"BroBot: Your Robot Wingman","2":"2010","3":"tt1714000","4":"movie"},{"1":"Robot World","2":"2010","3":"tt1717205","4":"movie"},{"1":"Robot Adventures with Robosapien and Friends: Humanoid Robots","2":"2011","3":"tt1757846","4":"movie"},{"1":"Bleeding Robot","2":"2010","3":"tt1758574","4":"movie"},{"1":"Larry Blamire Geeks Out!: 'Robot Monster'","2":"2010","3":"tt1787880","4":"movie"},{"1":"Robot","2":"2011","3":"tt1813585","4":"movie"},{"1":"The Making of Robot Wars","2":"1999","3":"tt1814894","4":"movie"},{"1":"Robot","2":"2009","3":"tt1849064","4":"movie"},{"1":"Goodbye Robot Army","2":"2011","3":"tt1850371","4":"movie"},{"1":"Confessions of a Paralyzed Robot","2":"2011","3":"tt1859470","4":"movie"},{"1":"Totally Generic Robot!","2":"2001","3":"tt2251563","4":"movie"},{"1":"Robot Love","2":"2012","3":"tt2258102","4":"movie"},{"1":"Super Robot Show","2":"2012","3":"tt2270702","4":"movie"},{"1":"Robot Intrigue","2":"2009","3":"tt2294799","4":"movie"},{"1":"The First Robot","2":"2005","3":"tt2308965","4":"movie"},{"1":"Kitchen Robot: Tomato Soup Recipe","2":"2012","3":"tt2308984","4":"movie"},{"1":"Welcome to Ramos Robot Repair","2":"2012","3":"tt2310340","4":"movie"},{"1":"Toei Robot Girls","2":"2011","3":"tt2354517","4":"movie"},{"1":"Robot Love","2":"2012","3":"tt2365943","4":"movie"},{"1":"Deep Dark Robot: You Mean Nothing To Me","2":"2012","3":"tt2376130","4":"movie"},{"1":"Robot-7","2":"2011","3":"tt2196039","4":"movie"},{"1":"Robot Therapy","2":"2011","3":"tt2198143","4":"movie"},{"1":"Robot Man","2":"2012","3":"tt2234118","4":"movie"},{"1":"Super Robot Dumbass","2":"2011","3":"tt2149149","4":"movie"},{"1":"Dora and Diego's 4-D Adventure Catch That Robot Butterfly","2":"2010","3":"tt2163472","4":"movie"},{"1":"Communist Robot Aliens","2":"2012","3":"tt2170838","4":"movie"},{"1":"Robot Quadrotors Perform James Bond Theme","2":"2012","3":"tt2172422","4":"movie"},{"1":"Procrastinatron: The Procrastinating Robot","2":"2013","3":"tt2829214","4":"movie"},{"1":"The Crack: The Robot","2":"2011","3":"tt2903332","4":"movie"},{"1":"Robot","2":"2012","3":"tt2905084","4":"movie"},{"1":"Death & the Robot","2":"2013","3":"tt2913704","4":"movie"},{"1":"J'ai toujours rÃªvÃ© d'Ãªtre un robot","2":"2013","3":"tt2917372","4":"movie"},{"1":"Robot Drunk","2":"2013","3":"tt3085542","4":"movie"},{"1":"Robot Chicken: Skate Tour","2":"2011","3":"tt3105284","4":"movie"},{"1":"QuaggiÃ¹ soltanto noi robot","2":"1998","3":"tt3127058","4":"movie"},{"1":"Robot/Girlfriend","2":"2016","3":"tt3139216","4":"movie"},{"1":"Robot Luv","2":"2013","3":"tt3146382","4":"movie"},{"1":"R Is for ROBOT","2":"2014","3":"tt3175854","4":"movie"},{"1":"Isis meets Robot","2":"2013","3":"tt3212482","4":"movie"},{"1":"Robot: Colony 25","2":"2016","3":"tt3220490","4":"movie"},{"1":"A Robot Named Robot","2":"2013","3":"tt3240000","4":"movie"},{"1":"The Intricacy of Robot Design","2":"2013","3":"tt3289250","4":"movie"},{"1":"I Love My Robot Boyfriend!","2":"2017","3":"tt6644176","4":"movie"},{"1":"Spirit Robot","2":"2017","3":"tt6918726","4":"movie"},{"1":"O Casamento do Robot","2":"1987","3":"tt4986344","4":"movie"},{"1":"My Boyfriend's a Cardboard Robot","2":"2015","3":"tt4986770","4":"movie"},{"1":"My Robot & I","2":"2013","3":"tt5007780","4":"movie"},{"1":"The ROBOT KILLER in Unauthorized Vacation","2":"2015","3":"tt5012132","4":"movie"},{"1":"Robot Ball Z: Saiyans Reborn","2":"2014","3":"tt5970664","4":"movie"},{"1":"Red Hot Chili Peppers: Go Robot","2":"2016","3":"tt6070054","4":"movie"},{"1":"My Life as a Teenage Robot: Rebooted","2":"2017","3":"tt6073826","4":"movie"},{"1":"A Robot in the Office","2":"2009","3":"tt6090340","4":"movie"},{"1":"Robot Wars","2":"2016","3":"tt6201602","4":"movie"},{"1":"Rockford Kabine: Robot Rubber Doll","2":"2016","3":"tt6268320","4":"movie"},{"1":"My Evil Robot Best Friend","2":"2016","3":"tt6343948","4":"movie"},{"1":"Robot Mission: And Then There Were None","2":"2018","3":"tt6346518","4":"movie"},{"1":"Have You Seen My Robot?","2":"2017","3":"tt6397830","4":"movie"},{"1":"In the Robot Skies","2":"2016","3":"tt6437712","4":"movie"},{"1":"Love Robot","2":"2017","3":"tt6442980","4":"movie"},{"1":"Space Robot Revolution","2":"2015","3":"tt6964178","4":"movie"},{"1":"Robot Bullies","2":"2017","3":"tt7571260","4":"movie"},{"1":"Kung Fu Wizard of Jesus vs. Undead Robot Nazi Werewolves","2":"2015","3":"tt8223172","4":"movie"},{"1":"Robot Roommate","2":"2017","3":"tt8295930","4":"movie"},{"1":"Robot Will Protect You","2":"2018","3":"tt8348972","4":"movie"},{"1":"Song of the Messenger Robot","2":"2018","3":"tt8442308","4":"movie"},{"1":"Sad Robot","2":"2012","3":"tt2677768","4":"movie"},{"1":"Robot Girl","2":"2002","3":"tt2776480","4":"movie"},{"1":"Robot King","2":"2014","3":"tt3993076","4":"movie"},{"1":"Gary Made a Sex Robot","2":"2014","3":"tt4006506","4":"movie"},{"1":"Flying Robot Rockstars","2":"2014","3":"tt4043990","4":"movie"},{"1":"A Lady & A Robot","2":"2014","3":"tt4286508","4":"movie"},{"1":"Reginald the Robot","2":"1976","3":"tt4289458","4":"movie"},{"1":"Sometime After the Robot Apocalypse","2":"2014","3":"tt4302930","4":"movie"},{"1":"Progetto Thesaurus, un robot a caccia di relitti","2":"2014","3":"tt4303698","4":"movie"},{"1":"If Robots Couldn't Do the Robot Dance","2":"2014","3":"tt4330410","4":"movie"},{"1":"Super Robot Wars: Original Generation: The Animation","2":"2005","3":"tt4116020","4":"movie"},{"1":"The Elf and the Robot","2":"2014","3":"tt4125316","4":"movie"},{"1":"Bohemian Robot","2":"2008","3":"tt4128656","4":"movie"},{"1":"Robey the Robot","2":"2014","3":"tt4172398","4":"movie"},{"1":"Robot Rock","2":"2015","3":"tt4229992","4":"movie"},{"1":"VernÃ½ robot","2":"1967","3":"tt4231568","4":"movie"},{"1":"Robot & Boy","2":"2013","3":"tt3299338","4":"movie"},{"1":"Requiem for a Robot","2":"2013","3":"tt3316780","4":"movie"},{"1":"Robot Warlords","2":"2015","3":"tt3398576","4":"movie"},{"1":"Robot vs Verses","2":"2013","3":"tt3401692","4":"movie"},{"1":"Wake Up, Robot","2":"2014","3":"tt3458264","4":"movie"},{"1":"Robot Tears","2":"2012","3":"tt3467330","4":"movie"},{"1":"The Ethical Robot","2":"2010","3":"tt2430208","4":"movie"},{"1":"CVI Orlando: Robot Maid","2":"2012","3":"tt2431346","4":"movie"},{"1":"Asshole Robot and the Benefits of an Artificial Mind","2":"2012","3":"tt2455110","4":"movie"},{"1":"Robot Adventures in Outer Space","2":"2012","3":"tt2479694","4":"movie"},{"1":"Robot Camel Jockeys","2":"2012","3":"tt2532236","4":"movie"},{"1":"Robot Love","2":"2013","3":"tt2606336","4":"movie"},{"1":"1984 Untitled Robot Short Film","2":"2014","3":"tt3601538","4":"movie"},{"1":"How to Make a Giant Robot Mech","2":"2013","3":"tt3660598","4":"movie"},{"1":"Stick 10: Temporal Robot Adventure","2":"2013","3":"tt3747282","4":"movie"},{"1":"Robot Dinosaur","2":"2014","3":"tt3794414","4":"movie"},{"1":"Malenkij robot","2":"1989","3":"tt3797176","4":"movie"},{"1":"Wacky Robot","2":"2014","3":"tt3835570","4":"movie"},{"1":"Flashy Robot Head Music Video","2":"2014","3":"tt3883036","4":"movie"},{"1":"Robot Hunter","2":"2008","3":"tt3884898","4":"movie"},{"1":"Robot","2":"2014","3":"tt3907278","4":"movie"},{"1":"Robot Spider","2":"2015","3":"tt4461030","4":"movie"},{"1":"Attack of the Atomic Robot","2":"1999","3":"tt4467138","4":"movie"},{"1":"Oxnard Robot","2":"1979","3":"tt4495848","4":"movie"},{"1":"I agnosti Ellada: To mihanima ton Antikythiron kai ta robot tis arhaiotitas (I tehnologia ton arhaion)","2":"1988","3":"tt4557780","4":"movie"},{"1":"Robot Love","2":"2014","3":"tt4567700","4":"movie"},{"1":"Robot","2":"2015","3":"tt4667614","4":"movie"},{"1":"Humanoide no robot","2":"2010","3":"tt4690130","4":"movie"},{"1":"Â¡Vamos, Robot!","2":"2015","3":"tt4696932","4":"movie"},{"1":"Robot Koch & Delhia de France: California Dreamin'","2":"2015","3":"tt4724938","4":"movie"},{"1":"Robot Dreams","2":"2009","3":"tt4387844","4":"movie"},{"1":"Ricky Robot Arms","2":"2014","3":"tt4393224","4":"movie"},{"1":"Robot Sitcom","2":"2015","3":"tt4398682","4":"movie"},{"1":"Homeless Robot","2":"2015","3":"tt4855556","4":"movie"},{"1":"Robot Wars: Battling On","2":"2013","3":"tt4900108","4":"movie"},{"1":"Little Red Robot Hunter","2":"2015","3":"tt4914418","4":"movie"},{"1":"Robot Cop","2":"2015","3":"tt5067870","4":"movie"},{"1":"Robot Monster Us","2":"2014","3":"tt5134802","4":"movie"},{"1":"Cole: The Robot","2":"2015","3":"tt5151920","4":"movie"},{"1":"A Farewell to Robot Arms","2":"2015","3":"tt5152394","4":"movie"},{"1":"Hitler's Brain and the Robot from Hell","2":"2015","3":"tt5187366","4":"movie"},{"1":"Rogue Robot: Deconstructing the Stunts and Special Effects of 'Chappie'","2":"2015","3":"tt5213236","4":"movie"},{"1":"Rogue Robot Origins","2":"2015","3":"tt5214862","4":"movie"},{"1":"Mr. Asahi Beer Robot","2":"2010","3":"tt5256428","4":"movie"},{"1":"AfterbuzzTV's Mr. Robot Aftershow","2":"2015","3":"tt5260996","4":"movie"},{"1":"Robot Club","2":"2016","3":"tt5281230","4":"movie"},{"1":"CGI & Design of 'I, Robot'","2":"2005","3":"tt5292726","4":"movie"},{"1":"Compositing Breakdowns: Visual Effects How of 'I, Robot'","2":"2005","3":"tt5292740","4":"movie"},{"1":"Ai robot shitataru: InkÃ´ chinÃ´","2":"2015","3":"tt5304652","4":"movie"},{"1":"Mr. Robot: M4k1ng_0f_Mr_R0b0t.m0v","2":"2016","3":"tt5321406","4":"movie"},{"1":"Jeeg il robot d'acciaio contro i mostri di roccia!: La piÃ¹ grande vittoria di Jeeg Robot","2":"1979","3":"tt5351386","4":"movie"},{"1":"Robot Club","2":"2015","3":"tt5419950","4":"movie"},{"1":"Robot Love, Human Indifference","2":"2015","3":"tt5421136","4":"movie"},{"1":"The Musical Robot Television Show","2":"2015","3":"tt5452564","4":"movie"},{"1":"Umami vs Robot","2":"2014","3":"tt5468950","4":"movie"},{"1":"Robot Koch & Delhia De France: Dark Waves","2":"2015","3":"tt5530594","4":"movie"},{"1":"A Robot","2":"2016","3":"tt5533184","4":"movie"},{"1":"Robot Wars: Ultimate Archive Collection Sir Killalot and the House Robots","2":"2002","3":"tt5601660","4":"movie"},{"1":"Tiny Robot","2":"2016","3":"tt5641842","4":"movie"},{"1":"Robot Soliloquies: Tima","2":"2016","3":"tt5690348","4":"movie"},{"1":"Robot Immortality, Human Impermanence","2":"2016","3":"tt5690356","4":"movie"},{"1":"Robot Battle","2":"2016","3":"tt5768438","4":"movie"},{"1":"Robot Heart","2":"2016","3":"tt5819192","4":"movie"},{"1":"Vernyy robot","2":"1965","3":"tt5865230","4":"movie"},{"1":"Totally Generic Robot!","2":"2016","3":"tt5886030","4":"movie"},{"1":"Everyone's a Robot","2":"2017","3":"tt5925040","4":"movie"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb15-1" data-line-number="1"><span class="co"># group data by year and count movies</span></a>
<a class="sourceLine" id="cb15-2" data-line-number="2">movies &lt;-<span class="st"> </span>robot_df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-3" data-line-number="3"><span class="st">  </span><span class="kw">group_by</span>(Year) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb15-4" data-line-number="4"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">num_movies =</span> <span class="kw">n</span>())</a>
<a class="sourceLine" id="cb15-5" data-line-number="5">movies</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Year"],"name":[1],"type":["int"],"align":["right"]},{"label":["num_movies"],"name":[2],"type":["int"],"align":["right"]}],"data":[{"1":"1932","2":"1"},{"1":"1936","2":"1"},{"1":"1938","2":"1"},{"1":"1941","2":"1"},{"1":"1944","2":"1"},{"1":"1951","2":"1"},{"1":"1953","2":"2"},{"1":"1956","2":"2"},{"1":"1958","2":"1"},{"1":"1962","2":"2"},{"1":"1963","2":"1"},{"1":"1964","2":"1"},{"1":"1965","2":"2"},{"1":"1966","2":"2"},{"1":"1967","2":"1"},{"1":"1969","2":"1"},{"1":"1970","2":"2"},{"1":"1972","2":"1"},{"1":"1973","2":"1"},{"1":"1975","2":"1"},{"1":"1976","2":"3"},{"1":"1977","2":"2"},{"1":"1979","2":"2"},{"1":"1981","2":"1"},{"1":"1982","2":"2"},{"1":"1986","2":"1"},{"1":"1987","2":"2"},{"1":"1988","2":"3"},{"1":"1989","2":"4"},{"1":"1993","2":"2"},{"1":"1994","2":"1"},{"1":"1995","2":"1"},{"1":"1996","2":"1"},{"1":"1997","2":"1"},{"1":"1998","2":"1"},{"1":"1999","2":"4"},{"1":"2000","2":"4"},{"1":"2001","2":"2"},{"1":"2002","2":"6"},{"1":"2003","2":"4"},{"1":"2004","2":"9"},{"1":"2005","2":"8"},{"1":"2006","2":"4"},{"1":"2007","2":"4"},{"1":"2008","2":"11"},{"1":"2009","2":"10"},{"1":"2010","2":"20"},{"1":"2011","2":"17"},{"1":"2012","2":"21"},{"1":"2013","2":"17"},{"1":"2014","2":"25"},{"1":"2015","2":"32"},{"1":"2016","2":"19"},{"1":"2017","2":"10"},{"1":"2018","2":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb16-1" data-line-number="1"><span class="co"># we probably should add 0 counts for years</span></a>
<a class="sourceLine" id="cb16-2" data-line-number="2"><span class="co"># with no robot movies</span></a>
<a class="sourceLine" id="cb16-3" data-line-number="3">movies &lt;-<span class="st"> </span>robot_df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-4" data-line-number="4"><span class="st">  </span><span class="kw">group_by</span>(Year) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-5" data-line-number="5"><span class="st">  </span><span class="kw">summarise</span>(<span class="dt">num_movies =</span> <span class="kw">n</span>()) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb16-6" data-line-number="6"><span class="st">  </span><span class="kw">complete</span>(<span class="dt">Year =</span> <span class="kw">seq</span>(<span class="kw">min</span>(Year), </a>
<a class="sourceLine" id="cb16-7" data-line-number="7">                      <span class="kw">max</span>(Year)),</a>
<a class="sourceLine" id="cb16-8" data-line-number="8">           <span class="dt">fill =</span> <span class="kw">list</span>(<span class="dt">num_movies =</span> <span class="dv">0</span>))</a>
<a class="sourceLine" id="cb16-9" data-line-number="9">movies</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["Year"],"name":[1],"type":["int"],"align":["right"]},{"label":["num_movies"],"name":[2],"type":["dbl"],"align":["right"]}],"data":[{"1":"1932","2":"1"},{"1":"1933","2":"0"},{"1":"1934","2":"0"},{"1":"1935","2":"0"},{"1":"1936","2":"1"},{"1":"1937","2":"0"},{"1":"1938","2":"1"},{"1":"1939","2":"0"},{"1":"1940","2":"0"},{"1":"1941","2":"1"},{"1":"1942","2":"0"},{"1":"1943","2":"0"},{"1":"1944","2":"1"},{"1":"1945","2":"0"},{"1":"1946","2":"0"},{"1":"1947","2":"0"},{"1":"1948","2":"0"},{"1":"1949","2":"0"},{"1":"1950","2":"0"},{"1":"1951","2":"1"},{"1":"1952","2":"0"},{"1":"1953","2":"2"},{"1":"1954","2":"0"},{"1":"1955","2":"0"},{"1":"1956","2":"2"},{"1":"1957","2":"0"},{"1":"1958","2":"1"},{"1":"1959","2":"0"},{"1":"1960","2":"0"},{"1":"1961","2":"0"},{"1":"1962","2":"2"},{"1":"1963","2":"1"},{"1":"1964","2":"1"},{"1":"1965","2":"2"},{"1":"1966","2":"2"},{"1":"1967","2":"1"},{"1":"1968","2":"0"},{"1":"1969","2":"1"},{"1":"1970","2":"2"},{"1":"1971","2":"0"},{"1":"1972","2":"1"},{"1":"1973","2":"1"},{"1":"1974","2":"0"},{"1":"1975","2":"1"},{"1":"1976","2":"3"},{"1":"1977","2":"2"},{"1":"1978","2":"0"},{"1":"1979","2":"2"},{"1":"1980","2":"0"},{"1":"1981","2":"1"},{"1":"1982","2":"2"},{"1":"1983","2":"0"},{"1":"1984","2":"0"},{"1":"1985","2":"0"},{"1":"1986","2":"1"},{"1":"1987","2":"2"},{"1":"1988","2":"3"},{"1":"1989","2":"4"},{"1":"1990","2":"0"},{"1":"1991","2":"0"},{"1":"1992","2":"0"},{"1":"1993","2":"2"},{"1":"1994","2":"1"},{"1":"1995","2":"1"},{"1":"1996","2":"1"},{"1":"1997","2":"1"},{"1":"1998","2":"1"},{"1":"1999","2":"4"},{"1":"2000","2":"4"},{"1":"2001","2":"2"},{"1":"2002","2":"6"},{"1":"2003","2":"4"},{"1":"2004","2":"9"},{"1":"2005","2":"8"},{"1":"2006","2":"4"},{"1":"2007","2":"4"},{"1":"2008","2":"11"},{"1":"2009","2":"10"},{"1":"2010","2":"20"},{"1":"2011","2":"17"},{"1":"2012","2":"21"},{"1":"2013","2":"17"},{"1":"2014","2":"25"},{"1":"2015","2":"32"},{"1":"2016","2":"19"},{"1":"2017","2":"10"},{"1":"2018","2":"3"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb17-1" data-line-number="1"><span class="co"># making a boring plot</span></a>
<a class="sourceLine" id="cb17-2" data-line-number="2">movies <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb17-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Year, <span class="dt">y=</span>num_movies)) <span class="op">+</span></a>
<a class="sourceLine" id="cb17-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb17-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="code_files/figure-html/plots-plus-images-3.png" width="672" /></p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb18-1" data-line-number="1"><span class="co"># replace points with robot</span></a>
<a class="sourceLine" id="cb18-2" data-line-number="2">movies <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb18-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Year, <span class="dt">y=</span>num_movies)) <span class="op">+</span></a>
<a class="sourceLine" id="cb18-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_line</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb18-5" data-line-number="5"><span class="st">  </span><span class="kw">geom_image</span>(<span class="kw">aes</span>(<span class="dt">image =</span> <span class="st">&quot;myrobot.png&quot;</span>), <span class="dt">size=</span><span class="fl">0.05</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/plots-plus-images-4.png" width="672" /></p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb19-1" data-line-number="1"><span class="co"># make the robot fly</span></a>
<a class="sourceLine" id="cb19-2" data-line-number="2">movies <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb19-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x=</span>Year, <span class="dt">y=</span>num_movies)) <span class="op">+</span></a>
<a class="sourceLine" id="cb19-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_image</span>(<span class="kw">aes</span>(<span class="dt">image =</span> <span class="st">&quot;myrobot.png&quot;</span>), <span class="dt">size=</span><span class="fl">0.05</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb19-5" data-line-number="5"><span class="st">  </span><span class="kw">transition_time</span>(Year)</a></code></pre></div>
<p><img src="code_files/figure-html/plots-plus-images-1.gif" /><!-- --></p>
</div>
<div id="clustering-images" class="section level3">
<h3>clustering images</h3>
<p>We’ll read in a random sample of 225 drawings of ducks from the <a href="https://github.com/googlecreativelab/quickdraw-datase">Google Quick! Draw! dataset</a> and see if we can group them into similar drawings using k-means clustering.</p>
<p>Download the duck images as a ZIP folder <a href="https://statistics-is-awesome.org/ducks.zip">from here</a> and save them into a folder within your project folder called “ducks”.</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb20-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb20-2" data-line-number="2"><span class="kw">library</span>(magick)</a>
<a class="sourceLine" id="cb20-3" data-line-number="3"><span class="kw">library</span>(ggimage)</a>
<a class="sourceLine" id="cb20-4" data-line-number="4"></a>
<a class="sourceLine" id="cb20-5" data-line-number="5"><span class="co"># read the duck images in</span></a>
<a class="sourceLine" id="cb20-6" data-line-number="6"><span class="co"># from the project folder ducks</span></a>
<a class="sourceLine" id="cb20-7" data-line-number="7"><span class="co"># and layout drawings in grid</span></a>
<a class="sourceLine" id="cb20-8" data-line-number="8">folder &lt;-<span class="st"> &quot;ducks/&quot;</span></a>
<a class="sourceLine" id="cb20-9" data-line-number="9">ducks_df &lt;-<span class="st"> </span><span class="kw">list.files</span>(<span class="dt">path=</span>folder) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-10" data-line-number="10"><span class="st">  </span><span class="kw">paste0</span>(folder,.) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-11" data-line-number="11"><span class="st">  </span><span class="kw">data.frame</span>(<span class="dt">imageLoc =</span> ., </a>
<a class="sourceLine" id="cb20-12" data-line-number="12">             <span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb20-13" data-line-number="13"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">x =</span> (<span class="kw">row_number</span>() <span class="op">-</span><span class="st"> </span><span class="dv">1</span>) <span class="op">%%</span><span class="st"> </span><span class="kw">ceiling</span>(<span class="kw">sqrt</span>(<span class="kw">n</span>())) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>,</a>
<a class="sourceLine" id="cb20-14" data-line-number="14">         <span class="dt">y =</span> <span class="kw">ceiling</span>(<span class="kw">row_number</span>() <span class="op">/</span><span class="st"> </span><span class="kw">ceiling</span>(<span class="kw">sqrt</span>(<span class="kw">n</span>()))))</a>
<a class="sourceLine" id="cb20-15" data-line-number="15"></a>
<a class="sourceLine" id="cb20-16" data-line-number="16"><span class="kw">ggplot</span>(ducks_df, <span class="kw">aes</span>(x, y)) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-17" data-line-number="17"><span class="st">  </span><span class="kw">geom_image</span>(<span class="kw">aes</span>(<span class="dt">image=</span>imageLoc)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb20-18" data-line-number="18"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">ceiling</span>(<span class="kw">sqrt</span>(<span class="kw">nrow</span>(ducks_df))) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-19" data-line-number="19"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">ceiling</span>(<span class="kw">sqrt</span>(<span class="kw">nrow</span>(ducks_df))) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb20-20" data-line-number="20"><span class="st">  </span><span class="kw">theme_void</span>()  <span class="op">+</span></a>
<a class="sourceLine" id="cb20-21" data-line-number="21"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">aspect.ratio=</span><span class="dv">1</span>) </a></code></pre></div>
<p><img src="code_files/figure-html/cluster-images-1.png" width="672" /></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb21-1" data-line-number="1"><span class="co"># ggsave(&quot;drawinggrid.png&quot;)</span></a>
<a class="sourceLine" id="cb21-2" data-line-number="2"></a>
<a class="sourceLine" id="cb21-3" data-line-number="3"><span class="co"># function to read image data for each duck</span></a>
<a class="sourceLine" id="cb21-4" data-line-number="4"><span class="co"># as one row of 100 variables (one for each pixel)</span></a>
<a class="sourceLine" id="cb21-5" data-line-number="5">convert_data &lt;-<span class="st"> </span><span class="cf">function</span>(x)</a>
<a class="sourceLine" id="cb21-6" data-line-number="6">{</a>
<a class="sourceLine" id="cb21-7" data-line-number="7">  pic &lt;-<span class="st"> </span><span class="kw">image_read</span>(x) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-8" data-line-number="8"><span class="st">    </span><span class="kw">image_scale</span>(<span class="st">&quot;10x10&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-9" data-line-number="9"><span class="st">    </span><span class="kw">image_background</span>(<span class="st">&quot;white&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span><span class="co"># need this as transparent background</span></a>
<a class="sourceLine" id="cb21-10" data-line-number="10"><span class="st">    </span><span class="kw">image_convert</span>(<span class="dt">type =</span> <span class="st">&#39;Bilevel&#39;</span>)</a>
<a class="sourceLine" id="cb21-11" data-line-number="11">  </a>
<a class="sourceLine" id="cb21-12" data-line-number="12">  <span class="kw">image_data</span>(pic)[<span class="dv">1</span>,,] <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-13" data-line-number="13"><span class="st">    </span><span class="kw">as.vector</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-14" data-line-number="14"><span class="st">    </span><span class="kw">as.numeric</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-15" data-line-number="15"><span class="st">    </span><span class="kw">t</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-16" data-line-number="16"><span class="st">    </span><span class="kw">data.frame</span>(<span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb21-17" data-line-number="17">}</a>
<a class="sourceLine" id="cb21-18" data-line-number="18"></a>
<a class="sourceLine" id="cb21-19" data-line-number="19"><span class="co"># take ducks_df imgLoc and map to convert_data function</span></a>
<a class="sourceLine" id="cb21-20" data-line-number="20"><span class="co"># store in image_data df</span></a>
<a class="sourceLine" id="cb21-21" data-line-number="21">image_data &lt;-<span class="st"> </span>ducks_df<span class="op">$</span>imageLoc <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb21-22" data-line-number="22"><span class="st">  </span><span class="kw">map_df</span>(convert_data)</a>
<a class="sourceLine" id="cb21-23" data-line-number="23"></a>
<a class="sourceLine" id="cb21-24" data-line-number="24"><span class="co"># cluster time!</span></a>
<a class="sourceLine" id="cb21-25" data-line-number="25"><span class="kw">set.seed</span>(<span class="dv">1810</span>)</a>
<a class="sourceLine" id="cb21-26" data-line-number="26">num_clust &lt;-<span class="st"> </span><span class="dv">2</span></a>
<a class="sourceLine" id="cb21-27" data-line-number="27">images_km &lt;-<span class="st"> </span><span class="kw">kmeans</span>(image_data, <span class="dt">centers =</span> num_clust) </a>
<a class="sourceLine" id="cb21-28" data-line-number="28"></a>
<a class="sourceLine" id="cb21-29" data-line-number="29"><span class="co"># check fit numerically</span></a>
<a class="sourceLine" id="cb21-30" data-line-number="30">images_km<span class="op">$</span>tot.withinss<span class="op">/</span>images_km<span class="op">$</span>totss</a></code></pre></div>
<pre><code>## [1] 0.9224833</code></pre>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb23-1" data-line-number="1"><span class="co"># add cluster info</span></a>
<a class="sourceLine" id="cb23-2" data-line-number="2">ducks_df<span class="op">$</span>cluster &lt;-<span class="st"> </span><span class="kw">as.factor</span>(images_km<span class="op">$</span>cluster)</a>
<a class="sourceLine" id="cb23-3" data-line-number="3"></a>
<a class="sourceLine" id="cb23-4" data-line-number="4"><span class="co"># plot with colour overlay for each cluster</span></a>
<a class="sourceLine" id="cb23-5" data-line-number="5"><span class="kw">ggplot</span>(ducks_df, <span class="kw">aes</span>(x, y)) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_image</span>(<span class="kw">aes</span>(<span class="dt">image=</span>imageLoc)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb23-7" data-line-number="7"><span class="st">  </span><span class="kw">geom_tile</span>(<span class="kw">aes</span>(<span class="dt">fill=</span>cluster), <span class="dt">alpha =</span> <span class="fl">0.5</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-8" data-line-number="8"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">ceiling</span>(<span class="kw">sqrt</span>(<span class="kw">nrow</span>(ducks_df))) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-9" data-line-number="9"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="kw">ceiling</span>(<span class="kw">sqrt</span>(<span class="kw">nrow</span>(ducks_df))) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb23-10" data-line-number="10"><span class="st">  </span><span class="kw">theme_void</span>()  <span class="op">+</span></a>
<a class="sourceLine" id="cb23-11" data-line-number="11"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">aspect.ratio=</span><span class="dv">1</span>) </a></code></pre></div>
<p><img src="code_files/figure-html/cluster-images-2.png" width="672" /></p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb24-1" data-line-number="1"><span class="co"># overlay ducks from the same cluster</span></a>
<a class="sourceLine" id="cb24-2" data-line-number="2">duck_clusters &lt;-<span class="st"> </span>ducks_df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb24-3" data-line-number="3"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">x =</span> <span class="kw">as.numeric</span>(cluster),</a>
<a class="sourceLine" id="cb24-4" data-line-number="4">         <span class="dt">y =</span> <span class="fl">0.5</span>)</a>
<a class="sourceLine" id="cb24-5" data-line-number="5"></a>
<a class="sourceLine" id="cb24-6" data-line-number="6"><span class="co"># plot clusters - check fit visually</span></a>
<a class="sourceLine" id="cb24-7" data-line-number="7"><span class="kw">ggplot</span>(duck_clusters, <span class="kw">aes</span>(x, y)) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-8" data-line-number="8"><span class="st">  </span><span class="kw">geom_image</span>(<span class="kw">aes</span>(<span class="dt">image=</span>imageLoc), </a>
<a class="sourceLine" id="cb24-9" data-line-number="9">             <span class="dt">alpha =</span> <span class="fl">0.05</span>, <span class="dt">size=</span><span class="dv">1</span><span class="op">/</span>(num_clust <span class="op">+</span><span class="st"> </span><span class="dv">2</span>)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb24-10" data-line-number="10"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, num_clust <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb24-11" data-line-number="11"><span class="st">  </span><span class="kw">scale_y_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">1</span>))  <span class="op">+</span></a>
<a class="sourceLine" id="cb24-12" data-line-number="12"><span class="st">  </span><span class="kw">theme_void</span>()</a></code></pre></div>
<p><img src="code_files/figure-html/cluster-images-3.png" width="672" /></p>
</div>
<div id="pixelated-animation" class="section level3">
<h3>pixelated animation</h3>
<p>We’ll create images with text from scratch, take each pixel from an image and plot them individually, and then created some animated word text fun times!</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb25-1" data-line-number="1"><span class="kw">library</span>(magick)</a>
<a class="sourceLine" id="cb25-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb25-3" data-line-number="3"><span class="kw">library</span>(gganimate)</a>
<a class="sourceLine" id="cb25-4" data-line-number="4"></a>
<a class="sourceLine" id="cb25-5" data-line-number="5"><span class="co"># set up image size</span></a>
<a class="sourceLine" id="cb25-6" data-line-number="6">image_width =<span class="st"> </span><span class="dv">400</span></a>
<a class="sourceLine" id="cb25-7" data-line-number="7">image_height =<span class="st"> </span><span class="dv">120</span></a>
<a class="sourceLine" id="cb25-8" data-line-number="8"></a>
<a class="sourceLine" id="cb25-9" data-line-number="9"><span class="co"># create a image with the text</span></a>
<a class="sourceLine" id="cb25-10" data-line-number="10">word &lt;-<span class="st"> </span><span class="kw">image_blank</span>(<span class="dt">width =</span> image_width, </a>
<a class="sourceLine" id="cb25-11" data-line-number="11">                    <span class="dt">height =</span> image_height) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb25-12" data-line-number="12"><span class="st">  </span><span class="kw">image_background</span>(<span class="st">&quot;#D3D3D3&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb25-13" data-line-number="13"><span class="st">  </span><span class="kw">image_annotate</span>(<span class="st">&quot;pixelated&quot;</span>, </a>
<a class="sourceLine" id="cb25-14" data-line-number="14">                 <span class="dt">color =</span> <span class="st">&quot;#181818&quot;</span>, </a>
<a class="sourceLine" id="cb25-15" data-line-number="15">                 <span class="dt">size =</span> <span class="dv">60</span>, </a>
<a class="sourceLine" id="cb25-16" data-line-number="16">                 <span class="dt">location =</span> <span class="st">&quot;+85+1&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb25-17" data-line-number="17"><span class="st">  </span><span class="kw">image_annotate</span>(<span class="st">&quot;animation&quot;</span>, </a>
<a class="sourceLine" id="cb25-18" data-line-number="18">                 <span class="dt">color =</span> <span class="st">&quot;#181818&quot;</span>, </a>
<a class="sourceLine" id="cb25-19" data-line-number="19">                 <span class="dt">size =</span> <span class="dv">60</span>, </a>
<a class="sourceLine" id="cb25-20" data-line-number="20">                 <span class="dt">location =</span> <span class="st">&quot;+80+48&quot;</span>)</a>
<a class="sourceLine" id="cb25-21" data-line-number="21"></a>
<a class="sourceLine" id="cb25-22" data-line-number="22"><span class="co"># create a dataframe with co-ordinates for each pixel</span></a>
<a class="sourceLine" id="cb25-23" data-line-number="23">words_df &lt;-<span class="st"> </span><span class="kw">expand.grid</span>(<span class="dt">x=</span><span class="dv">1</span><span class="op">:</span>image_width, </a>
<a class="sourceLine" id="cb25-24" data-line-number="24">                        <span class="dt">y=</span><span class="dv">1</span><span class="op">:</span>image_height)</a>
<a class="sourceLine" id="cb25-25" data-line-number="25"></a>
<a class="sourceLine" id="cb25-26" data-line-number="26"><span class="co"># get the hex value by combining r, g, b</span></a>
<a class="sourceLine" id="cb25-27" data-line-number="27">word_colours_hex &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;#&quot;</span>, </a>
<a class="sourceLine" id="cb25-28" data-line-number="28">                           <span class="kw">image_data</span>(word)[<span class="dv">1</span>,,], </a>
<a class="sourceLine" id="cb25-29" data-line-number="29">                           <span class="kw">image_data</span>(word)[<span class="dv">2</span>,,],</a>
<a class="sourceLine" id="cb25-30" data-line-number="30">                           <span class="kw">image_data</span>(word)[<span class="dv">3</span>,,])</a>
<a class="sourceLine" id="cb25-31" data-line-number="31"></a>
<a class="sourceLine" id="cb25-32" data-line-number="32"><span class="co"># add hex to dataframe</span></a>
<a class="sourceLine" id="cb25-33" data-line-number="33">words_df<span class="op">$</span>hex &lt;-<span class="st"> </span>word_colours_hex</a>
<a class="sourceLine" id="cb25-34" data-line-number="34"></a>
<a class="sourceLine" id="cb25-35" data-line-number="35"><span class="co"># plot the pixels as tiles with colour</span></a>
<a class="sourceLine" id="cb25-36" data-line-number="36"><span class="co"># we need to plot the y co-ordinates in reverse</span></a>
<a class="sourceLine" id="cb25-37" data-line-number="37"><span class="co"># since pixels in drawings are in reference to top left corner</span></a>
<a class="sourceLine" id="cb25-38" data-line-number="38"><span class="co"># but plotting points is in reference to bottom left corner</span></a>
<a class="sourceLine" id="cb25-39" data-line-number="39">words_df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb25-40" data-line-number="40"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb25-41" data-line-number="41"><span class="st">  </span><span class="kw">geom_tile</span>(<span class="kw">aes</span>(x, y, <span class="dt">fill=</span>hex)) <span class="op">+</span></a>
<a class="sourceLine" id="cb25-42" data-line-number="42"><span class="st">  </span><span class="kw">scale_fill_identity</span>() <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb25-43" data-line-number="43"><span class="st">  </span><span class="kw">scale_y_reverse</span>(<span class="dt">limits=</span><span class="kw">c</span>(image_height<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb25-44" data-line-number="44"><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb25-45" data-line-number="45"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">aspect.ratio=</span>image_height<span class="op">/</span>image_width)</a></code></pre></div>
<p><img src="code_files/figure-html/pixelated-animation-1.png" width="672" /></p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb26-1" data-line-number="1"><span class="co"># pixelate just the text </span></a>
<a class="sourceLine" id="cb26-2" data-line-number="2">pixel_size =<span class="st"> </span><span class="dv">3</span></a>
<a class="sourceLine" id="cb26-3" data-line-number="3">pixels_df &lt;-<span class="st"> </span>words_df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb26-4" data-line-number="4"><span class="st">  </span><span class="kw">filter</span>(hex<span class="op">==</span><span class="st">&quot;#181818&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb26-5" data-line-number="5"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">x =</span> <span class="kw">ceiling</span>(x<span class="op">/</span>pixel_size)<span class="op">*</span>pixel_size, </a>
<a class="sourceLine" id="cb26-6" data-line-number="6">         <span class="dt">y =</span> <span class="kw">ceiling</span>(y<span class="op">/</span>pixel_size)<span class="op">*</span>pixel_size) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb26-7" data-line-number="7"><span class="st">  </span><span class="kw">distinct</span>()</a>
<a class="sourceLine" id="cb26-8" data-line-number="8"></a>
<a class="sourceLine" id="cb26-9" data-line-number="9"><span class="co"># plot the text pixels on top of the background</span></a>
<a class="sourceLine" id="cb26-10" data-line-number="10">pixels_df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb26-11" data-line-number="11"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb26-12" data-line-number="12"><span class="st">  </span><span class="kw">geom_tile</span>(<span class="kw">aes</span>(x, y), <span class="dt">fill=</span><span class="st">&quot;#181818&quot;</span>) <span class="op">+</span></a>
<a class="sourceLine" id="cb26-13" data-line-number="13"><span class="st">  </span><span class="kw">scale_y_reverse</span>(<span class="dt">limits=</span><span class="kw">c</span>(image_height<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb26-14" data-line-number="14"><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb26-15" data-line-number="15"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">aspect.ratio=</span>image_height<span class="op">/</span>image_width,</a>
<a class="sourceLine" id="cb26-16" data-line-number="16">        <span class="dt">panel.background =</span> </a>
<a class="sourceLine" id="cb26-17" data-line-number="17">          <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;#D3D3D3&quot;</span>))</a></code></pre></div>
<p><img src="code_files/figure-html/pixelated-animation-2.png" width="672" /></p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb27-1" data-line-number="1"><span class="co"># now we want to create another version of the plot </span></a>
<a class="sourceLine" id="cb27-2" data-line-number="2"><span class="co"># where the co-ordinates are random</span></a>
<a class="sourceLine" id="cb27-3" data-line-number="3">pixels_df_rand &lt;-<span class="st"> </span>pixels_df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb27-4" data-line-number="4"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">phase =</span> <span class="dv">1</span>,</a>
<a class="sourceLine" id="cb27-5" data-line-number="5">         <span class="dt">x =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="kw">n</span>(), <span class="dt">min =</span> <span class="dv">1</span>, <span class="dt">max =</span> image_width)),</a>
<a class="sourceLine" id="cb27-6" data-line-number="6">         <span class="dt">y =</span> <span class="kw">round</span>(<span class="kw">runif</span>(<span class="kw">n</span>(), <span class="dt">min =</span> <span class="dv">1</span>, <span class="dt">max =</span> image_height)))</a>
<a class="sourceLine" id="cb27-7" data-line-number="7"></a>
<a class="sourceLine" id="cb27-8" data-line-number="8">pixels_df_true &lt;-<span class="st"> </span>pixels_df <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb27-9" data-line-number="9"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">phase =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb27-10" data-line-number="10"></a>
<a class="sourceLine" id="cb27-11" data-line-number="11"><span class="co"># combine them together </span></a>
<a class="sourceLine" id="cb27-12" data-line-number="12">pixels_df_anim &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(pixels_df_rand, pixels_df_true)</a>
<a class="sourceLine" id="cb27-13" data-line-number="13"></a>
<a class="sourceLine" id="cb27-14" data-line-number="14"><span class="co"># and animate by phase!</span></a>
<a class="sourceLine" id="cb27-15" data-line-number="15">pixels_df_anim <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb27-16" data-line-number="16"><span class="st">  </span><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb27-17" data-line-number="17"><span class="st">  </span><span class="kw">geom_tile</span>(<span class="kw">aes</span>(x, y), </a>
<a class="sourceLine" id="cb27-18" data-line-number="18">            <span class="dt">fill=</span><span class="st">&quot;#181818&quot;</span>, </a>
<a class="sourceLine" id="cb27-19" data-line-number="19">            <span class="dt">width =</span> pixel_size, </a>
<a class="sourceLine" id="cb27-20" data-line-number="20">            <span class="dt">height =</span> pixel_size) <span class="op">+</span></a>
<a class="sourceLine" id="cb27-21" data-line-number="21"><span class="st">  </span><span class="kw">scale_y_reverse</span>(<span class="dt">limits=</span><span class="kw">c</span>(image_height<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb27-22" data-line-number="22"><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb27-23" data-line-number="23"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">aspect.ratio=</span>image_height<span class="op">/</span>image_width,</a>
<a class="sourceLine" id="cb27-24" data-line-number="24">        <span class="dt">panel.background =</span> </a>
<a class="sourceLine" id="cb27-25" data-line-number="25">          <span class="kw">element_rect</span>(<span class="dt">fill =</span> <span class="st">&quot;#D3D3D3&quot;</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb27-26" data-line-number="26"><span class="st">  </span><span class="kw">transition_states</span>(phase, </a>
<a class="sourceLine" id="cb27-27" data-line-number="27">                    <span class="dt">transition_length =</span> <span class="dv">1</span>, </a>
<a class="sourceLine" id="cb27-28" data-line-number="28">                    <span class="dt">state_length =</span> <span class="dv">1</span>)  <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb27-29" data-line-number="29"><span class="st">  </span><span class="kw">ease_aes</span>(<span class="st">&#39;sine-in-out&#39;</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/pixelated-animation-1.gif" /><!-- --></p>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb28-1" data-line-number="1"><span class="co"># anim_save(&quot;pixelated_animation.gif&quot;)</span></a></code></pre></div>
</div>
<div id="paris-lights" class="section level3">
<h3>la pièce de résistance</h3>
<p>Lastly, let’s add a non-conventional use of the R package <code>nullabor</code> to create some sparkling lights for an Eiffel Tower mosaic made from <a href="https://unsplash.com/">Unsplash photos</a> of Paris.</p>
<p>Download the Unsplash paris images as a ZIP folder <a href="https://statistics-is-awesome.org/paris.zip">from here</a> and save them into a folder within your project folder called “paris”.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb29-1" data-line-number="1"><span class="co"># funtimes with images</span></a>
<a class="sourceLine" id="cb29-2" data-line-number="2"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb29-3" data-line-number="3"><span class="kw">library</span>(magick)</a>
<a class="sourceLine" id="cb29-4" data-line-number="4"><span class="kw">library</span>(ggimage)</a>
<a class="sourceLine" id="cb29-5" data-line-number="5"><span class="kw">library</span>(nullabor)</a>
<a class="sourceLine" id="cb29-6" data-line-number="6"><span class="kw">library</span>(gganimate)</a>
<a class="sourceLine" id="cb29-7" data-line-number="7"><span class="kw">set.seed</span>(<span class="dv">1810</span>)</a>
<a class="sourceLine" id="cb29-8" data-line-number="8"></a>
<a class="sourceLine" id="cb29-9" data-line-number="9"><span class="co"># create your own drawing of the Eiffel tower</span></a>
<a class="sourceLine" id="cb29-10" data-line-number="10"><span class="co"># and save as eiffel.png</span></a>
<a class="sourceLine" id="cb29-11" data-line-number="11"><span class="co"># you can use the drawing tool or whatever</span></a>
<a class="sourceLine" id="cb29-12" data-line-number="12"><span class="kw">image_read</span>(<span class="st">&quot;https://drive.google.com/uc?export=download&amp;id=1RELVlFC8-DOm56s8OqIjKLQO196_wvXI&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb29-13" data-line-number="13"><span class="st">  </span><span class="kw">image_write</span>(<span class="st">&quot;eiffel.png&quot;</span>)</a>
<a class="sourceLine" id="cb29-14" data-line-number="14"></a>
<a class="sourceLine" id="cb29-15" data-line-number="15"><span class="co"># set the cols for the square grid layout</span></a>
<a class="sourceLine" id="cb29-16" data-line-number="16">ncols &lt;-<span class="st"> </span><span class="dv">15</span></a>
<a class="sourceLine" id="cb29-17" data-line-number="17">sample_size &lt;-<span class="st"> </span>ncols<span class="op">*</span>ncols</a>
<a class="sourceLine" id="cb29-18" data-line-number="18"></a>
<a class="sourceLine" id="cb29-19" data-line-number="19"><span class="co"># get the names of all the paris images</span></a>
<a class="sourceLine" id="cb29-20" data-line-number="20">folder &lt;-<span class="st"> &quot;paris/&quot;</span></a>
<a class="sourceLine" id="cb29-21" data-line-number="21">pics &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">imgLoc =</span> <span class="kw">list.files</span>(<span class="dt">path=</span>folder),<span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb29-22" data-line-number="22"></a>
<a class="sourceLine" id="cb29-23" data-line-number="23"><span class="co"># get the &quot;average&quot; colour of each image</span></a>
<a class="sourceLine" id="cb29-24" data-line-number="24"><span class="co"># and store a bunch of colour-related info</span></a>
<a class="sourceLine" id="cb29-25" data-line-number="25">colours &lt;-<span class="st"> </span><span class="kw">map_df</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(pics), <span class="cf">function</span>(i) {</a>
<a class="sourceLine" id="cb29-26" data-line-number="26">  imgLoc &lt;-<span class="st"> </span><span class="kw">paste0</span>(folder,pics<span class="op">$</span>imgLoc[i])</a>
<a class="sourceLine" id="cb29-27" data-line-number="27">  picster &lt;-<span class="st"> </span><span class="kw">image_read</span>(imgLoc) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb29-28" data-line-number="28"><span class="st">    </span><span class="kw">image_quantize</span>(<span class="dt">max=</span><span class="dv">1</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb29-29" data-line-number="29"><span class="st">    </span><span class="kw">image_data</span>()</a>
<a class="sourceLine" id="cb29-30" data-line-number="30">  components &lt;-<span class="st"> </span><span class="kw">as.numeric</span>(picster[<span class="dv">1</span><span class="op">:</span><span class="dv">3</span>,<span class="dv">1</span>,<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb29-31" data-line-number="31">  r &lt;-<span class="st"> </span>components[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb29-32" data-line-number="32">  g &lt;-<span class="st"> </span>components[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb29-33" data-line-number="33">  b &lt;-<span class="st"> </span>components[<span class="dv">3</span>]</a>
<a class="sourceLine" id="cb29-34" data-line-number="34">  hex &lt;-<span class="st"> </span><span class="kw">rgb</span>(r<span class="op">/</span><span class="dv">255</span>, g<span class="op">/</span><span class="dv">255</span>, b<span class="op">/</span><span class="dv">255</span>)</a>
<a class="sourceLine" id="cb29-35" data-line-number="35">  hsl &lt;-<span class="kw">rgb2hsv</span>(r, g, b, <span class="dt">maxColorValue =</span> <span class="dv">255</span>)</a>
<a class="sourceLine" id="cb29-36" data-line-number="36">  gs &lt;-<span class="st"> </span><span class="kw">round</span>((r <span class="op">+</span><span class="st"> </span>g <span class="op">+</span><span class="st"> </span>b)<span class="op">/</span><span class="dv">3</span>) <span class="co">#could use other methods</span></a>
<a class="sourceLine" id="cb29-37" data-line-number="37">  <span class="kw">data.frame</span>(r, g, b, gs, <span class="dt">hue =</span> hsl[<span class="dv">1</span>], <span class="dt">sat =</span> hsl[<span class="dv">2</span>], <span class="dt">light =</span> hsl[<span class="dv">3</span>], <span class="dt">x=</span>((i<span class="dv">-1</span>)<span class="op">%%</span>ncols)<span class="op">+</span><span class="dv">1</span>, </a>
<a class="sourceLine" id="cb29-38" data-line-number="38">             <span class="dt">y=</span><span class="kw">ceiling</span>(i<span class="op">/</span>ncols), hex, imgLoc, <span class="dt">stringsAsFactors=</span><span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb29-39" data-line-number="39">})</a>
<a class="sourceLine" id="cb29-40" data-line-number="40">colours</a></code></pre></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["r"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["g"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["b"],"name":[3],"type":["dbl"],"align":["right"]},{"label":["gs"],"name":[4],"type":["dbl"],"align":["right"]},{"label":["hue"],"name":[5],"type":["dbl"],"align":["right"]},{"label":["sat"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["light"],"name":[7],"type":["dbl"],"align":["right"]},{"label":["x"],"name":[8],"type":["dbl"],"align":["right"]},{"label":["y"],"name":[9],"type":["dbl"],"align":["right"]},{"label":["hex"],"name":[10],"type":["chr"],"align":["left"]},{"label":["imgLoc"],"name":[11],"type":["chr"],"align":["left"]}],"data":[{"1":"124","2":"124","3":"124","4":"124","5":"0.000000000","6":"0.000000000","7":"0.4862745","8":"1","9":"1","10":"#7C7C7C","11":"paris/-2PrzYfgotw.png"},{"1":"204","2":"208","3":"212","4":"208","5":"0.583333333","6":"0.037735849","7":"0.8313725","8":"2","9":"1","10":"#CCD0D4","11":"paris/-aDl1z8_nGY.png"},{"1":"135","2":"113","3":"96","4":"115","5":"0.072649573","6":"0.288888889","7":"0.5294118","8":"3","9":"1","10":"#877160","11":"paris/-fQhgaJAQm4.png"},{"1":"168","2":"163","3":"143","4":"158","5":"0.133333333","6":"0.148809524","7":"0.6588235","8":"4","9":"1","10":"#A8A38F","11":"paris/-N_UwPdUs7E.png"},{"1":"173","2":"173","3":"172","4":"173","5":"0.166666667","6":"0.005780347","7":"0.6784314","8":"5","9":"1","10":"#ADADAC","11":"paris/-P4E59R092Q.png"},{"1":"229","2":"172","3":"87","4":"163","5":"0.099765258","6":"0.620087336","7":"0.8980392","8":"6","9":"1","10":"#E5AC57","11":"paris/-PuoxoKxF5w.png"},{"1":"169","2":"143","3":"144","4":"152","5":"0.993589744","6":"0.153846154","7":"0.6627451","8":"7","9":"1","10":"#A98F90","11":"paris/-RRvMkEsQck.png"},{"1":"64","2":"51","3":"40","4":"52","5":"0.076388889","6":"0.375000000","7":"0.2509804","8":"8","9":"1","10":"#403328","11":"paris/-UWtb-3v6jQ.png"},{"1":"142","2":"140","3":"149","4":"144","5":"0.703703704","6":"0.060402685","7":"0.5843137","8":"9","9":"1","10":"#8E8C95","11":"paris/__TFY6uE-L8.png"},{"1":"125","2":"124","3":"126","4":"125","5":"0.750000000","6":"0.015873016","7":"0.4941176","8":"10","9":"1","10":"#7D7C7E","11":"paris/_1LvAexVWa8.png"},{"1":"135","2":"128","3":"122","4":"128","5":"0.076923077","6":"0.096296296","7":"0.5294118","8":"11","9":"1","10":"#87807A","11":"paris/_arMe-Fjuso.png"},{"1":"132","2":"128","3":"111","4":"124","5":"0.134920635","6":"0.159090909","7":"0.5176471","8":"12","9":"1","10":"#84806F","11":"paris/_py5wlZTI2c.png"},{"1":"160","2":"163","3":"163","4":"162","5":"0.500000000","6":"0.018404908","7":"0.6392157","8":"13","9":"1","10":"#A0A3A3","11":"paris/_pyzcwUP2B4.png"},{"1":"191","2":"158","3":"164","4":"171","5":"0.969696970","6":"0.172774869","7":"0.7490196","8":"14","9":"1","10":"#BF9EA4","11":"paris/_uPadMxELBc.png"},{"1":"119","2":"121","3":"126","4":"122","5":"0.619047619","6":"0.055555556","7":"0.4941176","8":"15","9":"1","10":"#77797E","11":"paris/_wbalAEl8eA.png"},{"1":"139","2":"101","3":"95","4":"112","5":"0.022727273","6":"0.316546763","7":"0.5450980","8":"1","9":"2","10":"#8B655F","11":"paris/02kTeRPbndQ.png"},{"1":"220","2":"218","3":"216","4":"218","5":"0.083333333","6":"0.018181818","7":"0.8627451","8":"2","9":"2","10":"#DCDAD8","11":"paris/06wMGv3GF8k.png"},{"1":"106","2":"106","3":"106","4":"106","5":"0.000000000","6":"0.000000000","7":"0.4156863","8":"3","9":"2","10":"#6A6A6A","11":"paris/08L4l96KeUA.png"},{"1":"103","2":"119","3":"147","4":"123","5":"0.606060606","6":"0.299319728","7":"0.5764706","8":"4","9":"2","10":"#677793","11":"paris/0jH9HOxPBKw.png"},{"1":"122","2":"118","3":"120","4":"120","5":"0.916666667","6":"0.032786885","7":"0.4784314","8":"5","9":"2","10":"#7A7678","11":"paris/0Ol8Sa2n21c.png"},{"1":"145","2":"139","3":"97","4":"127","5":"0.145833333","6":"0.331034483","7":"0.5686275","8":"6","9":"2","10":"#918B61","11":"paris/0QTEYqAUpBY.png"},{"1":"199","2":"173","3":"162","4":"178","5":"0.049549550","6":"0.185929648","7":"0.7803922","8":"7","9":"2","10":"#C7ADA2","11":"paris/0VLn5nrp6hE.png"},{"1":"129","2":"127","3":"123","4":"126","5":"0.111111111","6":"0.046511628","7":"0.5058824","8":"8","9":"2","10":"#817F7B","11":"paris/19LdmnNs-YE.png"},{"1":"192","2":"189","3":"190","4":"190","5":"0.944444444","6":"0.015625000","7":"0.7529412","8":"9","9":"2","10":"#C0BDBE","11":"paris/1Audafd-yfQ.png"},{"1":"235","2":"234","3":"239","4":"236","5":"0.700000000","6":"0.020920502","7":"0.9372549","8":"10","9":"2","10":"#EBEAEF","11":"paris/1q3GWeqqfeg.png"},{"1":"140","2":"130","3":"100","4":"123","5":"0.125000000","6":"0.285714286","7":"0.5490196","8":"11","9":"2","10":"#8C8264","11":"paris/1wDyL2_NmE4.png"},{"1":"212","2":"214","3":"218","4":"215","5":"0.611111111","6":"0.027522936","7":"0.8549020","8":"12","9":"2","10":"#D4D6DA","11":"paris/1Z7QDZqT2QQ.png"},{"1":"105","2":"118","3":"127","4":"117","5":"0.568181818","6":"0.173228346","7":"0.4980392","8":"13","9":"2","10":"#69767F","11":"paris/24LIw3veBi4.png"},{"1":"114","2":"110","3":"106","4":"110","5":"0.083333333","6":"0.070175439","7":"0.4470588","8":"14","9":"2","10":"#726E6A","11":"paris/26_Z2TrY_hw.png"},{"1":"167","2":"169","3":"152","4":"163","5":"0.186274510","6":"0.100591716","7":"0.6627451","8":"15","9":"2","10":"#A7A998","11":"paris/2gllPE42ouU.png"},{"1":"130","2":"176","3":"222","4":"176","5":"0.583333333","6":"0.414414414","7":"0.8705882","8":"1","9":"3","10":"#82B0DE","11":"paris/2HqMjPpffiU.png"},{"1":"157","2":"184","3":"185","4":"175","5":"0.505952381","6":"0.151351351","7":"0.7254902","8":"2","9":"3","10":"#9DB8B9","11":"paris/2MoEcGNUj-I.png"},{"1":"71","2":"74","3":"76","4":"74","5":"0.566666667","6":"0.065789474","7":"0.2980392","8":"3","9":"3","10":"#474A4C","11":"paris/2pdDHpqbKr8.png"},{"1":"191","2":"198","3":"203","4":"197","5":"0.569444444","6":"0.059113300","7":"0.7960784","8":"4","9":"3","10":"#BFC6CB","11":"paris/2vmcCcy6sGo.png"},{"1":"143","2":"143","3":"142","4":"143","5":"0.166666667","6":"0.006993007","7":"0.5607843","8":"5","9":"3","10":"#8F8F8E","11":"paris/2yqNT50OOII.png"},{"1":"186","2":"182","3":"182","4":"183","5":"0.000000000","6":"0.021505376","7":"0.7294118","8":"6","9":"3","10":"#BAB6B6","11":"paris/3DF4cINm0ug.png"},{"1":"180","2":"171","3":"162","4":"171","5":"0.083333333","6":"0.100000000","7":"0.7058824","8":"7","9":"3","10":"#B4ABA2","11":"paris/3IDSZXfcQbg.png"},{"1":"125","2":"107","3":"87","4":"106","5":"0.087719298","6":"0.304000000","7":"0.4901961","8":"8","9":"3","10":"#7D6B57","11":"paris/3McEVKL4-bg.png"},{"1":"158","2":"158","3":"160","4":"159","5":"0.666666667","6":"0.012500000","7":"0.6274510","8":"9","9":"3","10":"#9E9EA0","11":"paris/3p9KCA1rNIQ.png"},{"1":"148","2":"129","3":"116","4":"131","5":"0.067708333","6":"0.216216216","7":"0.5803922","8":"10","9":"3","10":"#948174","11":"paris/3xwdarHxHqI.png"},{"1":"145","2":"106","3":"95","4":"115","5":"0.036666667","6":"0.344827586","7":"0.5686275","8":"11","9":"3","10":"#916A5F","11":"paris/4bY-VkQ0UZQ.png"},{"1":"152","2":"156","3":"155","4":"154","5":"0.458333333","6":"0.025641026","7":"0.6117647","8":"12","9":"3","10":"#989C9B","11":"paris/4psNpOezGzQ.png"},{"1":"136","2":"140","3":"143","4":"140","5":"0.571428571","6":"0.048951049","7":"0.5607843","8":"13","9":"3","10":"#888C8F","11":"paris/54khgZ4OKNI.png"},{"1":"172","2":"182","3":"191","4":"182","5":"0.578947368","6":"0.099476440","7":"0.7490196","8":"14","9":"3","10":"#ACB6BF","11":"paris/5eZu5p0vSPg.png"},{"1":"104","2":"74","3":"80","4":"86","5":"0.966666667","6":"0.288461538","7":"0.4078431","8":"15","9":"3","10":"#684A50","11":"paris/5tKtllqhx8U.png"},{"1":"181","2":"181","3":"189","4":"184","5":"0.666666667","6":"0.042328042","7":"0.7411765","8":"1","9":"4","10":"#B5B5BD","11":"paris/5XndD3FhH-w.png"},{"1":"204","2":"189","3":"198","4":"197","5":"0.900000000","6":"0.073529412","7":"0.8000000","8":"2","9":"4","10":"#CCBDC6","11":"paris/5z0OzAxsmpc.png"},{"1":"181","2":"139","3":"143","4":"154","5":"0.984126984","6":"0.232044199","7":"0.7098039","8":"3","9":"4","10":"#B58B8F","11":"paris/67-1iw9rhzE.png"},{"1":"29","2":"42","3":"52","4":"41","5":"0.572463768","6":"0.442307692","7":"0.2039216","8":"4","9":"4","10":"#1D2A34","11":"paris/6GJZ3jm-Ikg.png"},{"1":"82","2":"76","3":"77","4":"78","5":"0.972222222","6":"0.073170732","7":"0.3215686","8":"5","9":"4","10":"#524C4D","11":"paris/6ko6Z5GGv14.png"},{"1":"147","2":"159","3":"162","4":"156","5":"0.533333333","6":"0.092592593","7":"0.6352941","8":"6","9":"4","10":"#939FA2","11":"paris/6qmjXxJjVNs.png"},{"1":"62","2":"39","3":"15","4":"39","5":"0.085106383","6":"0.758064516","7":"0.2431373","8":"7","9":"4","10":"#3E270F","11":"paris/7_PS6WHphbE.png"},{"1":"108","2":"146","3":"174","4":"143","5":"0.570707071","6":"0.379310345","7":"0.6823529","8":"8","9":"4","10":"#6C92AE","11":"paris/703SL4i9KXY.png"},{"1":"117","2":"126","3":"123","4":"122","5":"0.444444444","6":"0.071428571","7":"0.4941176","8":"9","9":"4","10":"#757E7B","11":"paris/70EKSSM46_A.png"},{"1":"110","2":"103","3":"99","4":"104","5":"0.060606061","6":"0.100000000","7":"0.4313725","8":"10","9":"4","10":"#6E6763","11":"paris/7ya3l_JdHpM.png"},{"1":"187","2":"178","3":"175","4":"180","5":"0.041666667","6":"0.064171123","7":"0.7333333","8":"11","9":"4","10":"#BBB2AF","11":"paris/8eSrC43qdro.png"},{"1":"174","2":"170","3":"164","4":"169","5":"0.100000000","6":"0.057471264","7":"0.6823529","8":"12","9":"4","10":"#AEAAA4","11":"paris/8o1XVcIF_Bg.png"},{"1":"103","2":"60","3":"39","4":"67","5":"0.054687500","6":"0.621359223","7":"0.4039216","8":"13","9":"4","10":"#673C27","11":"paris/8WzCaqC_0ic.png"},{"1":"136","2":"136","3":"141","4":"138","5":"0.666666667","6":"0.035460993","7":"0.5529412","8":"14","9":"4","10":"#88888D","11":"paris/8YGlKdHy6kg.png"},{"1":"99","2":"90","3":"86","4":"92","5":"0.051282051","6":"0.131313131","7":"0.3882353","8":"15","9":"4","10":"#635A56","11":"paris/9CMUPez8wLo.png"},{"1":"88","2":"67","3":"48","4":"68","5":"0.079166667","6":"0.454545455","7":"0.3450980","8":"1","9":"5","10":"#584330","11":"paris/9haMOgv5FUw.png"},{"1":"155","2":"167","3":"192","4":"171","5":"0.612612613","6":"0.192708333","7":"0.7529412","8":"2","9":"5","10":"#9BA7C0","11":"paris/9JV2X2ZrXXQ.png"},{"1":"135","2":"107","3":"106","4":"116","5":"0.005747126","6":"0.214814815","7":"0.5294118","8":"3","9":"5","10":"#876B6A","11":"paris/9uxJt-LtqKU.png"},{"1":"54","2":"50","3":"47","4":"50","5":"0.071428571","6":"0.129629630","7":"0.2117647","8":"4","9":"5","10":"#36322F","11":"paris/a-KI-IGu01k.png"},{"1":"156","2":"155","3":"152","4":"154","5":"0.125000000","6":"0.025641026","7":"0.6117647","8":"5","9":"5","10":"#9C9B98","11":"paris/a0reYUisblY.png"},{"1":"193","2":"191","3":"194","4":"193","5":"0.777777778","6":"0.015463918","7":"0.7607843","8":"6","9":"5","10":"#C1BFC2","11":"paris/A4I22ACovIY.png"},{"1":"145","2":"124","3":"112","4":"127","5":"0.060606061","6":"0.227586207","7":"0.5686275","8":"7","9":"5","10":"#917C70","11":"paris/ACYfhN1y3m0.png"},{"1":"177","2":"177","3":"177","4":"177","5":"0.000000000","6":"0.000000000","7":"0.6941176","8":"8","9":"5","10":"#B1B1B1","11":"paris/Ah_5-iQCCSw.png"},{"1":"185","2":"175","3":"173","4":"178","5":"0.027777778","6":"0.064864865","7":"0.7254902","8":"9","9":"5","10":"#B9AFAD","11":"paris/AHFm9tDaH4U.png"},{"1":"171","2":"179","3":"179","4":"176","5":"0.500000000","6":"0.044692737","7":"0.7019608","8":"10","9":"5","10":"#ABB3B3","11":"paris/AigO5TWibjk.png"},{"1":"147","2":"155","3":"153","4":"152","5":"0.458333333","6":"0.051612903","7":"0.6078431","8":"11","9":"5","10":"#939B99","11":"paris/B_NUVHVOQyo.png"},{"1":"159","2":"162","3":"159","4":"160","5":"0.333333333","6":"0.018518519","7":"0.6352941","8":"12","9":"5","10":"#9FA29F","11":"paris/BaVy_mNd9JY.png"},{"1":"147","2":"149","3":"145","4":"147","5":"0.250000000","6":"0.026845638","7":"0.5843137","8":"13","9":"5","10":"#939591","11":"paris/beFaSsx5pZQ.png"},{"1":"123","2":"120","3":"119","4":"121","5":"0.041666667","6":"0.032520325","7":"0.4823529","8":"14","9":"5","10":"#7B7877","11":"paris/bpoOg2zlezw.png"},{"1":"183","2":"168","3":"160","4":"170","5":"0.057971014","6":"0.125683060","7":"0.7176471","8":"15","9":"5","10":"#B7A8A0","11":"paris/bQxGg8Vx1Vc.png"},{"1":"130","2":"149","3":"157","4":"145","5":"0.549382716","6":"0.171974522","7":"0.6156863","8":"1","9":"6","10":"#82959D","11":"paris/bSUAjkiL7dQ.png"},{"1":"224","2":"223","3":"220","4":"222","5":"0.125000000","6":"0.017857143","7":"0.8784314","8":"2","9":"6","10":"#E0DFDC","11":"paris/bVpyFJ5-e1E.png"},{"1":"156","2":"162","3":"176","4":"165","5":"0.616666667","6":"0.113636364","7":"0.6901961","8":"3","9":"6","10":"#9CA2B0","11":"paris/BwZzNERUQyU.png"},{"1":"121","2":"108","3":"100","4":"110","5":"0.063492063","6":"0.173553719","7":"0.4745098","8":"4","9":"6","10":"#796C64","11":"paris/C16xHin1f7A.png"},{"1":"126","2":"126","3":"131","4":"128","5":"0.666666667","6":"0.038167939","7":"0.5137255","8":"5","9":"6","10":"#7E7E83","11":"paris/cag2uloPczk.png"},{"1":"87","2":"123","3":"157","4":"122","5":"0.580952381","6":"0.445859873","7":"0.6156863","8":"6","9":"6","10":"#577B9D","11":"paris/can-mRjJRVw.png"},{"1":"168","2":"156","3":"141","4":"155","5":"0.092592593","6":"0.160714286","7":"0.6588235","8":"7","9":"6","10":"#A89C8D","11":"paris/CB0Qrf8ib4I.png"},{"1":"156","2":"157","3":"181","4":"165","5":"0.660000000","6":"0.138121547","7":"0.7098039","8":"8","9":"6","10":"#9C9DB5","11":"paris/cC3PtGqsh8Q.png"},{"1":"173","2":"172","3":"178","4":"174","5":"0.694444444","6":"0.033707865","7":"0.6980392","8":"9","9":"6","10":"#ADACB2","11":"paris/CmrEVhN9OIg.png"},{"1":"104","2":"68","3":"54","4":"75","5":"0.046666667","6":"0.480769231","7":"0.4078431","8":"10","9":"6","10":"#684436","11":"paris/coUWiRLeIXQ.png"},{"1":"146","2":"137","3":"177","4":"153","5":"0.704166667","6":"0.225988701","7":"0.6941176","8":"11","9":"6","10":"#9289B1","11":"paris/CPLrxcyEOuQ.png"},{"1":"196","2":"171","3":"160","4":"176","5":"0.050925926","6":"0.183673469","7":"0.7686275","8":"12","9":"6","10":"#C4ABA0","11":"paris/CQ7GamJbTnk.png"},{"1":"150","2":"135","3":"130","4":"138","5":"0.041666667","6":"0.133333333","7":"0.5882353","8":"13","9":"6","10":"#968782","11":"paris/CQSJQgJPGWU.png"},{"1":"169","2":"181","3":"184","4":"178","5":"0.533333333","6":"0.081521739","7":"0.7215686","8":"14","9":"6","10":"#A9B5B8","11":"paris/D_tM9N0SGKw.png"},{"1":"114","2":"100","3":"92","4":"102","5":"0.060606061","6":"0.192982456","7":"0.4470588","8":"15","9":"6","10":"#72645C","11":"paris/d4OnMIl5OYk.png"},{"1":"129","2":"121","3":"117","4":"122","5":"0.055555556","6":"0.093023256","7":"0.5058824","8":"1","9":"7","10":"#817975","11":"paris/d5SZqLkpIrY.png"},{"1":"169","2":"168","3":"171","4":"169","5":"0.722222222","6":"0.017543860","7":"0.6705882","8":"2","9":"7","10":"#A9A8AB","11":"paris/D8evnRz36HY.png"},{"1":"99","2":"119","3":"134","4":"117","5":"0.571428571","6":"0.261194030","7":"0.5254902","8":"3","9":"7","10":"#637786","11":"paris/dcL8ESbsGis.png"},{"1":"161","2":"146","3":"136","4":"148","5":"0.066666667","6":"0.155279503","7":"0.6313725","8":"4","9":"7","10":"#A19288","11":"paris/dhWnxfvaNPI.png"},{"1":"97","2":"90","3":"86","4":"91","5":"0.060606061","6":"0.113402062","7":"0.3803922","8":"5","9":"7","10":"#615A56","11":"paris/dJhuCVUmS2Y.png"},{"1":"88","2":"108","3":"129","4":"108","5":"0.585365854","6":"0.317829457","7":"0.5058824","8":"6","9":"7","10":"#586C81","11":"paris/DL5-3ulcV3U.png"},{"1":"157","2":"150","3":"147","4":"151","5":"0.050000000","6":"0.063694268","7":"0.6156863","8":"7","9":"7","10":"#9D9693","11":"paris/dPjsyWcZOsM.png"},{"1":"174","2":"170","3":"165","4":"170","5":"0.092592593","6":"0.051724138","7":"0.6823529","8":"8","9":"7","10":"#AEAAA5","11":"paris/dTDLVlVDic4.png"},{"1":"91","2":"55","3":"53","4":"66","5":"0.008771930","6":"0.417582418","7":"0.3568627","8":"9","9":"7","10":"#5B3735","11":"paris/Duoxhb9tkRE.png"},{"1":"162","2":"163","3":"161","4":"162","5":"0.250000000","6":"0.012269939","7":"0.6392157","8":"10","9":"7","10":"#A2A3A1","11":"paris/DW8ra3yRmfU.png"},{"1":"133","2":"151","3":"169","4":"151","5":"0.583333333","6":"0.213017751","7":"0.6627451","8":"11","9":"7","10":"#8597A9","11":"paris/DwP6EcZTwBc.png"},{"1":"141","2":"123","3":"118","4":"127","5":"0.036231884","6":"0.163120567","7":"0.5529412","8":"12","9":"7","10":"#8D7B76","11":"paris/DXuxHw3S5ak.png"},{"1":"146","2":"89","3":"83","4":"106","5":"0.015873016","6":"0.431506849","7":"0.5725490","8":"13","9":"7","10":"#925953","11":"paris/DZOTB6589ww.png"},{"1":"123","2":"123","3":"123","4":"123","5":"0.000000000","6":"0.000000000","7":"0.4823529","8":"14","9":"7","10":"#7B7B7B","11":"paris/dZOYdWtko-Q.png"},{"1":"179","2":"192","3":"195","4":"189","5":"0.531250000","6":"0.082051282","7":"0.7647059","8":"15","9":"7","10":"#B3C0C3","11":"paris/E6m2ZTKCWVA.png"},{"1":"96","2":"65","3":"49","4":"70","5":"0.056737589","6":"0.489583333","7":"0.3764706","8":"1","9":"8","10":"#604131","11":"paris/eElpS2uHBfU.png"},{"1":"196","2":"192","3":"198","4":"195","5":"0.777777778","6":"0.030303030","7":"0.7764706","8":"2","9":"8","10":"#C4C0C6","11":"paris/ehRcjDepSQE.png"},{"1":"157","2":"162","3":"189","4":"169","5":"0.640625000","6":"0.169312169","7":"0.7411765","8":"3","9":"8","10":"#9DA2BD","11":"paris/EIJ3ogh6EVk.png"},{"1":"75","2":"85","3":"106","4":"89","5":"0.612903226","6":"0.292452830","7":"0.4156863","8":"4","9":"8","10":"#4B556A","11":"paris/eIla0hzgJxU.png"},{"1":"48","2":"63","3":"88","4":"66","5":"0.604166667","6":"0.454545455","7":"0.3450980","8":"5","9":"8","10":"#303F58","11":"paris/eJwSOguD1rE.png"},{"1":"151","2":"99","3":"64","4":"105","5":"0.067049808","6":"0.576158940","7":"0.5921569","8":"6","9":"8","10":"#976340","11":"paris/emxAxutgt-A.png"},{"1":"123","2":"123","3":"123","4":"123","5":"0.000000000","6":"0.000000000","7":"0.4823529","8":"7","9":"8","10":"#7B7B7B","11":"paris/EQhpvZWdr5s.png"},{"1":"100","2":"55","3":"74","4":"76","5":"0.929629630","6":"0.450000000","7":"0.3921569","8":"8","9":"8","10":"#64374A","11":"paris/EXSOPkWfnIk.png"},{"1":"180","2":"167","3":"162","4":"170","5":"0.046296296","6":"0.100000000","7":"0.7058824","8":"9","9":"8","10":"#B4A7A2","11":"paris/F2eHfMwIOxA.png"},{"1":"196","2":"189","3":"149","4":"178","5":"0.141843972","6":"0.239795918","7":"0.7686275","8":"10","9":"8","10":"#C4BD95","11":"paris/ffmkD8dm7Zw.png"},{"1":"193","2":"182","3":"168","4":"181","5":"0.093333333","6":"0.129533679","7":"0.7568627","8":"11","9":"8","10":"#C1B6A8","11":"paris/FGESRgJ-Aog.png"},{"1":"174","2":"179","3":"178","4":"177","5":"0.466666667","6":"0.027932961","7":"0.7019608","8":"12","9":"8","10":"#AEB3B2","11":"paris/FsGfNIuJtZ0.png"},{"1":"115","2":"122","3":"104","4":"114","5":"0.231481481","6":"0.147540984","7":"0.4784314","8":"13","9":"8","10":"#737A68","11":"paris/fXIj0OjJJTw.png"},{"1":"216","2":"202","3":"202","4":"207","5":"0.000000000","6":"0.064814815","7":"0.8470588","8":"14","9":"8","10":"#D8CACA","11":"paris/gcD3e5fewTM.png"},{"1":"121","2":"136","3":"138","4":"132","5":"0.519607843","6":"0.123188406","7":"0.5411765","8":"15","9":"8","10":"#79888A","11":"paris/GlfXOy04DLk.png"},{"1":"171","2":"185","3":"200","4":"185","5":"0.586206897","6":"0.145000000","7":"0.7843137","8":"1","9":"9","10":"#ABB9C8","11":"paris/gMes5dNykus.png"},{"1":"119","2":"117","3":"112","4":"116","5":"0.119047619","6":"0.058823529","7":"0.4666667","8":"2","9":"9","10":"#777570","11":"paris/GMEu13hJP64.png"},{"1":"153","2":"153","3":"153","4":"153","5":"0.000000000","6":"0.000000000","7":"0.6000000","8":"3","9":"9","10":"#999999","11":"paris/gmQjmgwypPw.png"},{"1":"221","2":"210","3":"202","4":"211","5":"0.070175439","6":"0.085972851","7":"0.8666667","8":"4","9":"9","10":"#DDD2CA","11":"paris/GRfLA7aXlO4.png"},{"1":"199","2":"196","3":"181","4":"192","5":"0.138888889","6":"0.090452261","7":"0.7803922","8":"5","9":"9","10":"#C7C4B5","11":"paris/GTMGG-xvxdU.png"},{"1":"147","2":"156","3":"155","4":"153","5":"0.481481481","6":"0.057692308","7":"0.6117647","8":"6","9":"9","10":"#939C9B","11":"paris/GtqpMBbZ2UA.png"},{"1":"157","2":"157","3":"157","4":"157","5":"0.000000000","6":"0.000000000","7":"0.6156863","8":"7","9":"9","10":"#9D9D9D","11":"paris/gup2ZJmFFfo.png"},{"1":"79","2":"79","3":"79","4":"79","5":"0.000000000","6":"0.000000000","7":"0.3098039","8":"8","9":"9","10":"#4F4F4F","11":"paris/gVheSU2LTxU.png"},{"1":"171","2":"175","3":"173","4":"173","5":"0.416666667","6":"0.022857143","7":"0.6862745","8":"9","9":"9","10":"#ABAFAD","11":"paris/GweI0gjVck4.png"},{"1":"162","2":"168","3":"175","4":"168","5":"0.589743590","6":"0.074285714","7":"0.6862745","8":"10","9":"9","10":"#A2A8AF","11":"paris/gyMRKhYP_Ao.png"},{"1":"159","2":"150","3":"144","4":"151","5":"0.066666667","6":"0.094339623","7":"0.6235294","8":"11","9":"9","10":"#9F9690","11":"paris/gyUVNafCIG8.png"},{"1":"191","2":"192","3":"187","4":"190","5":"0.200000000","6":"0.026041667","7":"0.7529412","8":"12","9":"9","10":"#BFC0BB","11":"paris/HBANPxXi3aQ.png"},{"1":"93","2":"80","3":"73","4":"82","5":"0.058333333","6":"0.215053763","7":"0.3647059","8":"13","9":"9","10":"#5D5049","11":"paris/He8-FZl-o10.png"},{"1":"134","2":"133","3":"123","4":"130","5":"0.151515152","6":"0.082089552","7":"0.5254902","8":"14","9":"9","10":"#86857B","11":"paris/Hf4Ap1-ef40.png"},{"1":"142","2":"166","3":"176","4":"161","5":"0.549019608","6":"0.193181818","7":"0.6901961","8":"15","9":"9","10":"#8EA6B0","11":"paris/Hk7l6DmgO7Q.png"},{"1":"21","2":"114","3":"120","4":"85","5":"0.510101010","6":"0.825000000","7":"0.4705882","8":"1","9":"10","10":"#157278","11":"paris/Hlb-lBz_INw.png"},{"1":"107","2":"120","3":"139","4":"122","5":"0.598958333","6":"0.230215827","7":"0.5450980","8":"2","9":"10","10":"#6B788B","11":"paris/HN-5Z6AmxrM.png"},{"1":"172","2":"157","3":"142","4":"157","5":"0.083333333","6":"0.174418605","7":"0.6745098","8":"3","9":"10","10":"#AC9D8E","11":"paris/hNKgpr7LtbU.png"},{"1":"94","2":"53","3":"45","4":"64","5":"0.027210884","6":"0.521276596","7":"0.3686275","8":"4","9":"10","10":"#5E352D","11":"paris/HR1JjtymIwA.png"},{"1":"213","2":"209","3":"209","4":"210","5":"0.000000000","6":"0.018779343","7":"0.8352941","8":"5","9":"10","10":"#D5D1D1","11":"paris/hthsAhksQ5M.png"},{"1":"111","2":"171","3":"186","4":"156","5":"0.533333333","6":"0.403225806","7":"0.7294118","8":"6","9":"10","10":"#6FABBA","11":"paris/HxvRX-IpN1w.png"},{"1":"149","2":"169","3":"179","4":"166","5":"0.555555556","6":"0.167597765","7":"0.7019608","8":"7","9":"10","10":"#95A9B3","11":"paris/hyZ8ln856Ag.png"},{"1":"141","2":"139","3":"145","4":"142","5":"0.722222222","6":"0.041379310","7":"0.5686275","8":"8","9":"10","10":"#8D8B91","11":"paris/IIxoMowHjXE.png"},{"1":"69","2":"47","3":"47","4":"54","5":"0.000000000","6":"0.318840580","7":"0.2705882","8":"9","9":"10","10":"#452F2F","11":"paris/IkYuzPneQWs.png"},{"1":"107","2":"91","3":"88","4":"95","5":"0.026315789","6":"0.177570093","7":"0.4196078","8":"10","9":"10","10":"#6B5B58","11":"paris/ItaV89TNkks.png"},{"1":"165","2":"164","3":"152","4":"160","5":"0.153846154","6":"0.078787879","7":"0.6470588","8":"11","9":"10","10":"#A5A498","11":"paris/iVmUXothgGY.png"},{"1":"137","2":"140","3":"147","4":"141","5":"0.616666667","6":"0.068027211","7":"0.5764706","8":"12","9":"10","10":"#898C93","11":"paris/ixolewC-RwA.png"},{"1":"126","2":"132","3":"132","4":"130","5":"0.500000000","6":"0.045454545","7":"0.5176471","8":"13","9":"10","10":"#7E8484","11":"paris/IXpuRZvhCT0.png"},{"1":"138","2":"132","3":"132","4":"134","5":"0.000000000","6":"0.043478261","7":"0.5411765","8":"14","9":"10","10":"#8A8484","11":"paris/IyMKYQiH_BI.png"},{"1":"178","2":"180","3":"173","4":"177","5":"0.214285714","6":"0.038888889","7":"0.7058824","8":"15","9":"10","10":"#B2B4AD","11":"paris/iYoAPaSPBKI.png"},{"1":"101","2":"98","3":"105","4":"101","5":"0.738095238","6":"0.066666667","7":"0.4117647","8":"1","9":"11","10":"#656269","11":"paris/IZ86s5eV4hA.png"},{"1":"161","2":"146","3":"120","4":"142","5":"0.105691057","6":"0.254658385","7":"0.6313725","8":"2","9":"11","10":"#A19278","11":"paris/J1OV-aqPXfw.png"},{"1":"199","2":"205","3":"206","4":"203","5":"0.523809524","6":"0.033980583","7":"0.8078431","8":"3","9":"11","10":"#C7CDCE","11":"paris/JH19b_nYcC4.png"},{"1":"224","2":"227","3":"227","4":"226","5":"0.500000000","6":"0.013215859","7":"0.8901961","8":"4","9":"11","10":"#E0E3E3","11":"paris/jjBKFW9yhyA.png"},{"1":"134","2":"130","3":"125","4":"130","5":"0.092592593","6":"0.067164179","7":"0.5254902","8":"5","9":"11","10":"#86827D","11":"paris/jjhvyxm34nY.png"},{"1":"184","2":"110","3":"95","4":"130","5":"0.028089888","6":"0.483695652","7":"0.7215686","8":"6","9":"11","10":"#B86E5F","11":"paris/jQGgk8nziFo.png"},{"1":"138","2":"138","3":"134","4":"137","5":"0.166666667","6":"0.028985507","7":"0.5411765","8":"7","9":"11","10":"#8A8A86","11":"paris/JVpFGt8A520.png"},{"1":"180","2":"181","3":"189","4":"183","5":"0.648148148","6":"0.047619048","7":"0.7411765","8":"8","9":"11","10":"#B4B5BD","11":"paris/k4ZBiOxKMRk.png"},{"1":"162","2":"158","3":"156","4":"159","5":"0.055555556","6":"0.037037037","7":"0.6352941","8":"9","9":"11","10":"#A29E9C","11":"paris/KC_TvuiNEv8.png"},{"1":"181","2":"181","3":"181","4":"181","5":"0.000000000","6":"0.000000000","7":"0.7098039","8":"10","9":"11","10":"#B5B5B5","11":"paris/kgA5cRwr5IE.png"},{"1":"190","2":"188","3":"182","4":"187","5":"0.125000000","6":"0.042105263","7":"0.7450980","8":"11","9":"11","10":"#BEBCB6","11":"paris/kIpe0YidEX4.png"},{"1":"111","2":"108","3":"109","4":"109","5":"0.944444444","6":"0.027027027","7":"0.4352941","8":"12","9":"11","10":"#6F6C6D","11":"paris/KJb-Z8CaZMM.png"},{"1":"125","2":"100","3":"65","4":"97","5":"0.097222222","6":"0.480000000","7":"0.4901961","8":"13","9":"11","10":"#7D6441","11":"paris/kKe5oXlEX0k.png"},{"1":"73","2":"72","3":"69","4":"71","5":"0.125000000","6":"0.054794521","7":"0.2862745","8":"14","9":"11","10":"#494845","11":"paris/KqM-x6Lu84w.png"},{"1":"162","2":"157","3":"156","4":"158","5":"0.027777778","6":"0.037037037","7":"0.6352941","8":"15","9":"11","10":"#A29D9C","11":"paris/krUMis4enhw.png"},{"1":"192","2":"193","3":"196","4":"194","5":"0.625000000","6":"0.020408163","7":"0.7686275","8":"1","9":"12","10":"#C0C1C4","11":"paris/KsAwr1ZHQro.png"},{"1":"172","2":"169","3":"174","4":"172","5":"0.766666667","6":"0.028735632","7":"0.6823529","8":"2","9":"12","10":"#ACA9AE","11":"paris/kumviJUY4nk.png"},{"1":"172","2":"163","3":"157","4":"164","5":"0.066666667","6":"0.087209302","7":"0.6745098","8":"3","9":"12","10":"#ACA39D","11":"paris/kv4OM426JYg.png"},{"1":"216","2":"202","3":"195","4":"204","5":"0.055555556","6":"0.097222222","7":"0.8470588","8":"4","9":"12","10":"#D8CAC3","11":"paris/L2xSCL_n9Mw.png"},{"1":"160","2":"166","3":"171","4":"166","5":"0.575757576","6":"0.064327485","7":"0.6705882","8":"5","9":"12","10":"#A0A6AB","11":"paris/L53YebBmLkM.png"},{"1":"213","2":"197","3":"181","4":"197","5":"0.083333333","6":"0.150234742","7":"0.8352941","8":"6","9":"12","10":"#D5C5B5","11":"paris/L6OoL86ut-k.png"},{"1":"130","2":"128","3":"126","4":"128","5":"0.083333333","6":"0.030769231","7":"0.5098039","8":"7","9":"12","10":"#82807E","11":"paris/l7FKAtYgAEQ.png"},{"1":"222","2":"222","3":"222","4":"222","5":"0.000000000","6":"0.000000000","7":"0.8705882","8":"8","9":"12","10":"#DEDEDE","11":"paris/L8UlZFGKXEI.png"},{"1":"113","2":"113","3":"113","4":"113","5":"0.000000000","6":"0.000000000","7":"0.4431373","8":"9","9":"12","10":"#717171","11":"paris/lf6EFCUpaac.png"},{"1":"165","2":"168","3":"175","4":"169","5":"0.616666667","6":"0.057142857","7":"0.6862745","8":"10","9":"12","10":"#A5A8AF","11":"paris/lLiXMkcq90o.png"},{"1":"86","2":"72","3":"59","4":"72","5":"0.080246914","6":"0.313953488","7":"0.3372549","8":"11","9":"12","10":"#56483B","11":"paris/LrMWHKqilUw.png"},{"1":"178","2":"177","3":"176","4":"177","5":"0.083333333","6":"0.011235955","7":"0.6980392","8":"12","9":"12","10":"#B2B1B0","11":"paris/lRPp7zKs8mA.png"},{"1":"157","2":"152","3":"156","4":"155","5":"0.866666667","6":"0.031847134","7":"0.6156863","8":"13","9":"12","10":"#9D989C","11":"paris/lTeaijEZfAk.png"},{"1":"124","2":"123","3":"129","4":"125","5":"0.694444444","6":"0.046511628","7":"0.5058824","8":"14","9":"12","10":"#7C7B81","11":"paris/LTeHlkJQLTE.png"},{"1":"172","2":"93","3":"89","4":"118","5":"0.008032129","6":"0.482558140","7":"0.6745098","8":"15","9":"12","10":"#AC5D59","11":"paris/lzsFXjAuoFE.png"},{"1":"115","2":"110","3":"104","4":"110","5":"0.090909091","6":"0.095652174","7":"0.4509804","8":"1","9":"13","10":"#736E68","11":"paris/lZsPR_tsQpw.png"},{"1":"182","2":"172","3":"169","4":"174","5":"0.038461538","6":"0.071428571","7":"0.7137255","8":"2","9":"13","10":"#B6ACA9","11":"paris/m45uW4f9YQg.png"},{"1":"183","2":"182","3":"197","4":"187","5":"0.677777778","6":"0.076142132","7":"0.7725490","8":"3","9":"13","10":"#B7B6C5","11":"paris/m7_lccaGaYA.png"},{"1":"105","2":"128","3":"134","4":"122","5":"0.534482759","6":"0.216417910","7":"0.5254902","8":"4","9":"13","10":"#698086","11":"paris/m8b0B00iHvI.png"},{"1":"112","2":"93","3":"108","4":"104","5":"0.868421053","6":"0.169642857","7":"0.4392157","8":"5","9":"13","10":"#705D6C","11":"paris/mbeATPzFazg.png"},{"1":"169","2":"180","3":"188","4":"179","5":"0.570175439","6":"0.101063830","7":"0.7372549","8":"6","9":"13","10":"#A9B4BC","11":"paris/MBQ-u7W753c.png"},{"1":"145","2":"133","3":"127","4":"135","5":"0.055555556","6":"0.124137931","7":"0.5686275","8":"7","9":"13","10":"#91857F","11":"paris/mEfIhOTH27w.png"},{"1":"87","2":"67","3":"70","4":"75","5":"0.975000000","6":"0.229885057","7":"0.3411765","8":"8","9":"13","10":"#574346","11":"paris/milUxSbp4_A.png"},{"1":"187","2":"201","3":"206","4":"198","5":"0.543859649","6":"0.092233010","7":"0.8078431","8":"9","9":"13","10":"#BBC9CE","11":"paris/MTacHVooRzc.png"},{"1":"61","2":"32","3":"43","4":"45","5":"0.936781609","6":"0.475409836","7":"0.2392157","8":"10","9":"13","10":"#3D202B","11":"paris/n2PMAQxi-GM.png"},{"1":"197","2":"197","3":"200","4":"198","5":"0.666666667","6":"0.015000000","7":"0.7843137","8":"11","9":"13","10":"#C5C5C8","11":"paris/N9CwSiUxI7g.png"},{"1":"147","2":"143","3":"135","4":"142","5":"0.111111111","6":"0.081632653","7":"0.5764706","8":"12","9":"13","10":"#938F87","11":"paris/nBHT1k1nHfc.png"},{"1":"181","2":"118","3":"84","4":"128","5":"0.058419244","6":"0.535911602","7":"0.7098039","8":"13","9":"13","10":"#B57654","11":"paris/nbyz_hvOPCA.png"},{"1":"136","2":"132","3":"131","4":"133","5":"0.033333333","6":"0.036764706","7":"0.5333333","8":"14","9":"13","10":"#888483","11":"paris/NchpR9cGt4Q.png"},{"1":"159","2":"167","3":"182","4":"169","5":"0.608695652","6":"0.126373626","7":"0.7137255","8":"15","9":"13","10":"#9FA7B6","11":"paris/nHuHQyY0aB4.png"},{"1":"161","2":"151","3":"150","4":"154","5":"0.015151515","6":"0.068322981","7":"0.6313725","8":"1","9":"14","10":"#A19796","11":"paris/NLrBr0KQRLg.png"},{"1":"159","2":"141","3":"150","4":"150","5":"0.916666667","6":"0.113207547","7":"0.6235294","8":"2","9":"14","10":"#9F8D96","11":"paris/nnzkZNYWHaU.png"},{"1":"220","2":"211","3":"204","4":"212","5":"0.072916667","6":"0.072727273","7":"0.8627451","8":"3","9":"14","10":"#DCD3CC","11":"paris/nOnFSFzEcms.png"},{"1":"193","2":"175","3":"157","4":"175","5":"0.083333333","6":"0.186528497","7":"0.7568627","8":"4","9":"14","10":"#C1AF9D","11":"paris/Np70_VvGRR8.png"},{"1":"181","2":"176","3":"174","4":"177","5":"0.047619048","6":"0.038674033","7":"0.7098039","8":"5","9":"14","10":"#B5B0AE","11":"paris/nsHO6mtOsc4.png"},{"1":"192","2":"196","3":"190","4":"193","5":"0.277777778","6":"0.030612245","7":"0.7686275","8":"6","9":"14","10":"#C0C4BE","11":"paris/NT1mJPgni6A.png"},{"1":"165","2":"174","3":"183","4":"174","5":"0.583333333","6":"0.098360656","7":"0.7176471","8":"7","9":"14","10":"#A5AEB7","11":"paris/nuOdDlVCpDU.png"},{"1":"128","2":"138","3":"153","4":"140","5":"0.600000000","6":"0.163398693","7":"0.6000000","8":"8","9":"14","10":"#808A99","11":"paris/O0zLR_lVt8I.png"},{"1":"147","2":"161","3":"171","4":"160","5":"0.569444444","6":"0.140350877","7":"0.6705882","8":"9","9":"14","10":"#93A1AB","11":"paris/O4_aHAweYtE.png"},{"1":"57","2":"49","3":"47","4":"51","5":"0.033333333","6":"0.175438596","7":"0.2235294","8":"10","9":"14","10":"#39312F","11":"paris/O9sz2N_GRrI.png"},{"1":"150","2":"147","3":"149","4":"149","5":"0.888888889","6":"0.020000000","7":"0.5882353","8":"11","9":"14","10":"#969395","11":"paris/OCQALiYlyAY.png"},{"1":"179","2":"151","3":"132","4":"154","5":"0.067375887","6":"0.262569832","7":"0.7019608","8":"12","9":"14","10":"#B39784","11":"paris/OO0_7yJa-s0.png"},{"1":"151","2":"161","3":"166","4":"159","5":"0.555555556","6":"0.090361446","7":"0.6509804","8":"13","9":"14","10":"#97A1A6","11":"paris/OuR30IIMHBI.png"},{"1":"179","2":"55","3":"50","4":"95","5":"0.006459948","6":"0.720670391","7":"0.7019608","8":"14","9":"14","10":"#B33732","11":"paris/oWTW-jNGl9I.png"},{"1":"180","2":"177","3":"174","4":"177","5":"0.083333333","6":"0.033333333","7":"0.7058824","8":"15","9":"14","10":"#B4B1AE","11":"paris/oyE2KWO7Vc4.png"},{"1":"231","2":"232","3":"233","4":"232","5":"0.583333333","6":"0.008583691","7":"0.9137255","8":"1","9":"15","10":"#E7E8E9","11":"paris/oYmT4go4hTk.png"},{"1":"163","2":"157","3":"151","4":"157","5":"0.083333333","6":"0.073619632","7":"0.6392157","8":"2","9":"15","10":"#A39D97","11":"paris/oyTYXCLRPaU.png"},{"1":"106","2":"85","3":"84","4":"92","5":"0.007575758","6":"0.207547170","7":"0.4156863","8":"3","9":"15","10":"#6A5554","11":"paris/oZoBDnCS7fo.png"},{"1":"102","2":"95","3":"88","4":"95","5":"0.083333333","6":"0.137254902","7":"0.4000000","8":"4","9":"15","10":"#665F58","11":"paris/oZqaPUaeBuI.png"},{"1":"157","2":"123","3":"144","4":"141","5":"0.897058824","6":"0.216560510","7":"0.6156863","8":"5","9":"15","10":"#9D7B90","11":"paris/p1PdxgSTIZ0.png"},{"1":"95","2":"87","3":"81","4":"88","5":"0.071428571","6":"0.147368421","7":"0.3725490","8":"6","9":"15","10":"#5F5751","11":"paris/PdDBTrkGYLo.png"},{"1":"105","2":"99","3":"95","4":"100","5":"0.066666667","6":"0.095238095","7":"0.4117647","8":"7","9":"15","10":"#69635F","11":"paris/PdvopAeNdiY.png"},{"1":"134","2":"173","3":"190","4":"166","5":"0.550595238","6":"0.294736842","7":"0.7450980","8":"8","9":"15","10":"#86ADBE","11":"paris/pi_Ju6KoQIc.png"},{"1":"131","2":"143","3":"152","4":"142","5":"0.571428571","6":"0.138157895","7":"0.5960784","8":"9","9":"15","10":"#838F98","11":"paris/PIOqHJG5a1U.png"},{"1":"147","2":"136","3":"128","4":"137","5":"0.070175439","6":"0.129251701","7":"0.5764706","8":"10","9":"15","10":"#938880","11":"paris/pJqfhKUpCh8.png"},{"1":"170","2":"162","3":"150","4":"161","5":"0.100000000","6":"0.117647059","7":"0.6666667","8":"11","9":"15","10":"#AAA296","11":"paris/PjZvO8MBKN4.png"},{"1":"215","2":"215","3":"211","4":"214","5":"0.166666667","6":"0.018604651","7":"0.8431373","8":"12","9":"15","10":"#D7D7D3","11":"paris/PM4VZZn-YyM.png"},{"1":"183","2":"174","3":"174","4":"177","5":"0.000000000","6":"0.049180328","7":"0.7176471","8":"13","9":"15","10":"#B7AEAE","11":"paris/pt4j4bGSPmw.png"},{"1":"211","2":"211","3":"209","4":"210","5":"0.166666667","6":"0.009478673","7":"0.8274510","8":"14","9":"15","10":"#D3D3D1","11":"paris/pVt9j3iWtPM.png"},{"1":"216","2":"209","3":"218","4":"214","5":"0.796296296","6":"0.041284404","7":"0.8549020","8":"15","9":"15","10":"#D8D1DA","11":"paris/PXB85vrCxIU.png"},{"1":"117","2":"116","3":"111","4":"115","5":"0.138888889","6":"0.051282051","7":"0.4588235","8":"1","9":"16","10":"#75746F","11":"paris/pXh99EfQqvE.png"},{"1":"182","2":"181","3":"180","4":"181","5":"0.083333333","6":"0.010989011","7":"0.7137255","8":"2","9":"16","10":"#B6B5B4","11":"paris/pXlHKbO3aQo.png"},{"1":"64","2":"111","3":"118","4":"98","5":"0.521604938","6":"0.457627119","7":"0.4627451","8":"3","9":"16","10":"#406F76","11":"paris/pxoZSTdAzeU.png"},{"1":"100","2":"82","3":"73","4":"85","5":"0.055555556","6":"0.270000000","7":"0.3921569","8":"4","9":"16","10":"#645249","11":"paris/pYd6_Iw8TpM.png"},{"1":"129","2":"123","3":"117","4":"123","5":"0.083333333","6":"0.093023256","7":"0.5058824","8":"5","9":"16","10":"#817B75","11":"paris/pYUuEOdTLeM.png"},{"1":"91","2":"66","3":"51","4":"69","5":"0.062500000","6":"0.439560440","7":"0.3568627","8":"6","9":"16","10":"#5B4233","11":"paris/pzwHKEb5O20.png"},{"1":"68","2":"50","3":"42","4":"53","5":"0.051282051","6":"0.382352941","7":"0.2666667","8":"7","9":"16","10":"#44322A","11":"paris/q-xU9r7AW38.png"},{"1":"173","2":"202","3":"214","4":"196","5":"0.548780488","6":"0.191588785","7":"0.8392157","8":"8","9":"16","10":"#ADCAD6","11":"paris/Q0-fOL2nqZc.png"},{"1":"139","2":"120","3":"105","4":"121","5":"0.073529412","6":"0.244604317","7":"0.5450980","8":"9","9":"16","10":"#8B7869","11":"paris/Q8F8EgyakIE.png"},{"1":"204","2":"193","3":"188","4":"195","5":"0.052083333","6":"0.078431373","7":"0.8000000","8":"10","9":"16","10":"#CCC1BC","11":"paris/q9Vt4pVnGzc.png"},{"1":"140","2":"163","3":"199","4":"167","5":"0.601694915","6":"0.296482412","7":"0.7803922","8":"11","9":"16","10":"#8CA3C7","11":"paris/QAwciFlS1g4.png"},{"1":"132","2":"134","3":"143","4":"136","5":"0.636363636","6":"0.076923077","7":"0.5607843","8":"12","9":"16","10":"#84868F","11":"paris/QKfWXNtb1CU.png"},{"1":"196","2":"195","3":"201","4":"197","5":"0.694444444","6":"0.029850746","7":"0.7882353","8":"13","9":"16","10":"#C4C3C9","11":"paris/qkYQ9Rn7GAM.png"},{"1":"133","2":"133","3":"133","4":"133","5":"0.000000000","6":"0.000000000","7":"0.5215686","8":"14","9":"16","10":"#858585","11":"paris/QOVY9L4E9Aw.png"},{"1":"153","2":"143","3":"134","4":"143","5":"0.078947368","6":"0.124183007","7":"0.6000000","8":"15","9":"16","10":"#998F86","11":"paris/QPRj0bMb5Fk.png"},{"1":"87","2":"80","3":"77","4":"81","5":"0.050000000","6":"0.114942529","7":"0.3411765","8":"1","9":"17","10":"#57504D","11":"paris/QVwC0L-Yd3w.png"},{"1":"149","2":"118","3":"113","4":"127","5":"0.023148148","6":"0.241610738","7":"0.5843137","8":"2","9":"17","10":"#957671","11":"paris/qxYDhV0rBPk.png"},{"1":"109","2":"114","3":"118","4":"114","5":"0.574074074","6":"0.076271186","7":"0.4627451","8":"3","9":"17","10":"#6D7276","11":"paris/r157SRsQ6dY.png"},{"1":"180","2":"170","3":"171","4":"174","5":"0.983333333","6":"0.055555556","7":"0.7058824","8":"4","9":"17","10":"#B4AAAB","11":"paris/r2tkc3BmgtI.png"},{"1":"125","2":"109","3":"133","4":"122","5":"0.777777778","6":"0.180451128","7":"0.5215686","8":"5","9":"17","10":"#7D6D85","11":"paris/R5scocnOOdM.png"},{"1":"112","2":"129","3":"145","4":"129","5":"0.580808081","6":"0.227586207","7":"0.5686275","8":"6","9":"17","10":"#708191","11":"paris/r61cOIjDf3o.png"},{"1":"162","2":"172","3":"184","4":"173","5":"0.590909091","6":"0.119565217","7":"0.7215686","8":"7","9":"17","10":"#A2ACB8","11":"paris/R9STtQ_2Mio.png"},{"1":"176","2":"158","3":"163","4":"166","5":"0.953703704","6":"0.102272727","7":"0.6901961","8":"8","9":"17","10":"#B09EA3","11":"paris/Rc8QoHeONtY.png"},{"1":"80","2":"71","3":"64","4":"72","5":"0.072916667","6":"0.200000000","7":"0.3137255","8":"9","9":"17","10":"#504740","11":"paris/RcgmgEmdCWE.png"},{"1":"147","2":"155","3":"157","4":"153","5":"0.533333333","6":"0.063694268","7":"0.6156863","8":"10","9":"17","10":"#939B9D","11":"paris/Rf2pvIGHFw8.png"},{"1":"82","2":"65","3":"53","4":"67","5":"0.068965517","6":"0.353658537","7":"0.3215686","8":"11","9":"17","10":"#524135","11":"paris/rN8N9bdiEeE.png"},{"1":"99","2":"95","3":"85","4":"93","5":"0.119047619","6":"0.141414141","7":"0.3882353","8":"12","9":"17","10":"#635F55","11":"paris/RPLfibeDzVQ.png"},{"1":"162","2":"162","3":"162","4":"162","5":"0.000000000","6":"0.000000000","7":"0.6352941","8":"13","9":"17","10":"#A2A2A2","11":"paris/rQCFiftJtu0.png"},{"1":"118","2":"112","3":"112","4":"114","5":"0.000000000","6":"0.050847458","7":"0.4627451","8":"14","9":"17","10":"#767070","11":"paris/rSpMla5RItA.png"},{"1":"107","2":"95","3":"83","4":"95","5":"0.083333333","6":"0.224299065","7":"0.4196078","8":"15","9":"17","10":"#6B5F53","11":"paris/RvdS4i8arYQ.png"},{"1":"130","2":"143","3":"144","4":"139","5":"0.511904762","6":"0.097222222","7":"0.5647059","8":"1","9":"18","10":"#828F90","11":"paris/saXaQqOSlPM.png"},{"1":"120","2":"102","3":"105","4":"109","5":"0.972222222","6":"0.150000000","7":"0.4705882","8":"2","9":"18","10":"#786669","11":"paris/sfL_QOnmy00.png"},{"1":"167","2":"167","3":"167","4":"167","5":"0.000000000","6":"0.000000000","7":"0.6549020","8":"3","9":"18","10":"#A7A7A7","11":"paris/sNPrc7r_44c.png"},{"1":"160","2":"164","3":"153","4":"159","5":"0.227272727","6":"0.067073171","7":"0.6431373","8":"4","9":"18","10":"#A0A499","11":"paris/sP2tq6u8eQc.png"},{"1":"149","2":"143","3":"140","4":"144","5":"0.055555556","6":"0.060402685","7":"0.5843137","8":"5","9":"18","10":"#958F8C","11":"paris/SsBI9pweAeA.png"},{"1":"201","2":"200","3":"208","4":"203","5":"0.687500000","6":"0.038461538","7":"0.8156863","8":"6","9":"18","10":"#C9C8D0","11":"paris/SSoCY-Xi3iY.png"},{"1":"151","2":"127","3":"124","4":"134","5":"0.018518519","6":"0.178807947","7":"0.5921569","8":"7","9":"18","10":"#977F7C","11":"paris/suRvdiwP9Pk.png"},{"1":"201","2":"196","3":"193","4":"197","5":"0.062500000","6":"0.039800995","7":"0.7882353","8":"8","9":"18","10":"#C9C4C1","11":"paris/t7z3xjyRsQ4.png"},{"1":"141","2":"141","3":"145","4":"142","5":"0.666666667","6":"0.027586207","7":"0.5686275","8":"9","9":"18","10":"#8D8D91","11":"paris/Tf2yUpf3yX0.png"},{"1":"94","2":"137","3":"168","4":"133","5":"0.569819820","6":"0.440476190","7":"0.6588235","8":"10","9":"18","10":"#5E89A8","11":"paris/tFkTeA8j4FA.png"},{"1":"138","2":"142","3":"149","4":"143","5":"0.606060606","6":"0.073825503","7":"0.5843137","8":"11","9":"18","10":"#8A8E95","11":"paris/TgO2abHGPMA.png"},{"1":"95","2":"92","3":"87","4":"91","5":"0.104166667","6":"0.084210526","7":"0.3725490","8":"12","9":"18","10":"#5F5C57","11":"paris/TH8a7L1HJXA.png"},{"1":"70","2":"83","3":"87","4":"80","5":"0.539215686","6":"0.195402299","7":"0.3411765","8":"13","9":"18","10":"#465357","11":"paris/tKQ9NhQVCjM.png"},{"1":"198","2":"196","3":"194","4":"196","5":"0.083333333","6":"0.020202020","7":"0.7764706","8":"14","9":"18","10":"#C6C4C2","11":"paris/Tn-Q-9H6SL0.png"},{"1":"143","2":"143","3":"143","4":"143","5":"0.000000000","6":"0.000000000","7":"0.5607843","8":"15","9":"18","10":"#8F8F8F","11":"paris/TRALLodRQE0.png"},{"1":"188","2":"171","3":"169","4":"176","5":"0.017543860","6":"0.101063830","7":"0.7372549","8":"1","9":"19","10":"#BCABA9","11":"paris/TSoShIT8mO4.png"},{"1":"189","2":"142","3":"114","4":"148","5":"0.062222222","6":"0.396825397","7":"0.7411765","8":"2","9":"19","10":"#BD8E72","11":"paris/TVyjcTEKHLU.png"},{"1":"134","2":"130","3":"112","4":"125","5":"0.136363636","6":"0.164179104","7":"0.5254902","8":"3","9":"19","10":"#868270","11":"paris/TwOCH0u-NnI.png"},{"1":"84","2":"113","3":"146","4":"114","5":"0.588709677","6":"0.424657534","7":"0.5725490","8":"4","9":"19","10":"#547192","11":"paris/U1_qOdWE440.png"},{"1":"194","2":"186","3":"179","4":"186","5":"0.077777778","6":"0.077319588","7":"0.7607843","8":"5","9":"19","10":"#C2BAB3","11":"paris/UEY9zNRK5RU.png"},{"1":"167","2":"87","3":"108","4":"121","5":"0.956250000","6":"0.479041916","7":"0.6549020","8":"6","9":"19","10":"#A7576C","11":"paris/Ui0WyzhIzzQ.png"},{"1":"179","2":"152","3":"140","4":"157","5":"0.051282051","6":"0.217877095","7":"0.7019608","8":"7","9":"19","10":"#B3988C","11":"paris/Ulkw1pe1YJI.png"},{"1":"175","2":"166","3":"163","4":"168","5":"0.041666667","6":"0.068571429","7":"0.6862745","8":"8","9":"19","10":"#AFA6A3","11":"paris/uLOJAXgjWYI.png"},{"1":"99","2":"83","3":"72","4":"85","5":"0.067901235","6":"0.272727273","7":"0.3882353","8":"9","9":"19","10":"#635348","11":"paris/unk8y_XYgto.png"},{"1":"125","2":"118","3":"116","4":"120","5":"0.037037037","6":"0.072000000","7":"0.4901961","8":"10","9":"19","10":"#7D7674","11":"paris/UO02gAW3c0c.png"},{"1":"114","2":"110","3":"115","4":"113","5":"0.800000000","6":"0.043478261","7":"0.4509804","8":"11","9":"19","10":"#726E73","11":"paris/vAA0IZknBeM.png"},{"1":"119","2":"97","3":"83","4":"100","5":"0.064814815","6":"0.302521008","7":"0.4666667","8":"12","9":"19","10":"#776153","11":"paris/VbZxEBk4qy0.png"},{"1":"117","2":"106","3":"104","4":"109","5":"0.025641026","6":"0.111111111","7":"0.4588235","8":"13","9":"19","10":"#756A68","11":"paris/VcVItFUI6g0.png"},{"1":"211","2":"204","3":"197","4":"204","5":"0.083333333","6":"0.066350711","7":"0.8274510","8":"14","9":"19","10":"#D3CCC5","11":"paris/VDiGTEO0TYY.png"},{"1":"102","2":"76","3":"66","4":"81","5":"0.046296296","6":"0.352941176","7":"0.4000000","8":"15","9":"19","10":"#664C42","11":"paris/vf8vmRXy3Jk.png"},{"1":"184","2":"196","3":"196","4":"192","5":"0.500000000","6":"0.061224490","7":"0.7686275","8":"1","9":"20","10":"#B8C4C4","11":"paris/Vgeb-eXuooc.png"},{"1":"138","2":"137","3":"131","4":"135","5":"0.142857143","6":"0.050724638","7":"0.5411765","8":"2","9":"20","10":"#8A8983","11":"paris/vhaUlaV0hDU.png"},{"1":"78","2":"67","3":"35","4":"60","5":"0.124031008","6":"0.551282051","7":"0.3058824","8":"3","9":"20","10":"#4E4323","11":"paris/VhsJvRiVwX8.png"},{"1":"145","2":"145","3":"149","4":"146","5":"0.666666667","6":"0.026845638","7":"0.5843137","8":"4","9":"20","10":"#919195","11":"paris/Vi9cHboZwss.png"},{"1":"112","2":"88","3":"109","4":"103","5":"0.854166667","6":"0.214285714","7":"0.4392157","8":"5","9":"20","10":"#70586D","11":"paris/Vj7bjhUv5lc.png"},{"1":"158","2":"145","3":"129","4":"144","5":"0.091954023","6":"0.183544304","7":"0.6196078","8":"6","9":"20","10":"#9E9181","11":"paris/vKtFAlZHvk8.png"},{"1":"176","2":"170","3":"165","4":"170","5":"0.075757576","6":"0.062500000","7":"0.6901961","8":"7","9":"20","10":"#B0AAA5","11":"paris/VLWy8LIdzsQ.png"},{"1":"145","2":"162","3":"156","4":"154","5":"0.441176471","6":"0.104938272","7":"0.6352941","8":"8","9":"20","10":"#91A29C","11":"paris/vm1qrLYf4QY.png"},{"1":"134","2":"110","3":"137","4":"127","5":"0.814814815","6":"0.197080292","7":"0.5372549","8":"9","9":"20","10":"#866E89","11":"paris/vowZFVPFzK0.png"},{"1":"140","2":"129","3":"131","4":"133","5":"0.969696970","6":"0.078571429","7":"0.5490196","8":"10","9":"20","10":"#8C8183","11":"paris/VtJvWVfrhyM.png"},{"1":"150","2":"135","3":"125","4":"137","5":"0.066666667","6":"0.166666667","7":"0.5882353","8":"11","9":"20","10":"#96877D","11":"paris/vYReh0M6KRU.png"},{"1":"157","2":"166","3":"192","4":"172","5":"0.623809524","6":"0.182291667","7":"0.7529412","8":"12","9":"20","10":"#9DA6C0","11":"paris/vzb0FFmZHsI.png"},{"1":"117","2":"115","3":"125","4":"119","5":"0.700000000","6":"0.080000000","7":"0.4901961","8":"13","9":"20","10":"#75737D","11":"paris/VZX9sLtdUhU.png"},{"1":"179","2":"179","3":"180","4":"179","5":"0.666666667","6":"0.005555556","7":"0.7058824","8":"14","9":"20","10":"#B3B3B4","11":"paris/W5hUOxgB08Y.png"},{"1":"51","2":"102","3":"110","4":"88","5":"0.522598870","6":"0.536363636","7":"0.4313725","8":"15","9":"20","10":"#33666E","11":"paris/W5INoOK-5eI.png"},{"1":"132","2":"172","3":"222","4":"175","5":"0.592592593","6":"0.405405405","7":"0.8705882","8":"1","9":"21","10":"#84ACDE","11":"paris/w7riMytN6Wk.png"},{"1":"64","2":"57","3":"51","4":"57","5":"0.076923077","6":"0.203125000","7":"0.2509804","8":"2","9":"21","10":"#403933","11":"paris/Wa6LnHpFhIM.png"},{"1":"140","2":"107","3":"117","4":"121","5":"0.949494949","6":"0.235714286","7":"0.5490196","8":"3","9":"21","10":"#8C6B75","11":"paris/WHmSnvgesh4.png"},{"1":"182","2":"175","3":"178","4":"178","5":"0.928571429","6":"0.038461538","7":"0.7137255","8":"4","9":"21","10":"#B6AFB2","11":"paris/wIFkx505Jlk.png"},{"1":"145","2":"145","3":"145","4":"145","5":"0.000000000","6":"0.000000000","7":"0.5686275","8":"5","9":"21","10":"#919191","11":"paris/wJ2SaSiL5FA.png"},{"1":"126","2":"113","3":"101","4":"113","5":"0.080000000","6":"0.198412698","7":"0.4941176","8":"6","9":"21","10":"#7E7165","11":"paris/wjdHhmiS2Pk.png"},{"1":"121","2":"115","3":"116","4":"117","5":"0.972222222","6":"0.049586777","7":"0.4745098","8":"7","9":"21","10":"#797374","11":"paris/WLDtOWLuSgA.png"},{"1":"85","2":"85","3":"85","4":"85","5":"0.000000000","6":"0.000000000","7":"0.3333333","8":"8","9":"21","10":"#555555","11":"paris/wVtpUFqy0FY.png"},{"1":"129","2":"124","3":"122","4":"125","5":"0.047619048","6":"0.054263566","7":"0.5058824","8":"9","9":"21","10":"#817C7A","11":"paris/WY_J0_9sVFg.png"},{"1":"200","2":"192","3":"178","4":"190","5":"0.106060606","6":"0.110000000","7":"0.7843137","8":"10","9":"21","10":"#C8C0B2","11":"paris/WY5O9st4AeA.png"},{"1":"138","2":"147","3":"183","4":"156","5":"0.633333333","6":"0.245901639","7":"0.7176471","8":"11","9":"21","10":"#8A93B7","11":"paris/X27pHtvopHA.png"},{"1":"174","2":"163","3":"153","4":"163","5":"0.079365079","6":"0.120689655","7":"0.6823529","8":"12","9":"21","10":"#AEA399","11":"paris/X48hkTT1qQc.png"},{"1":"113","2":"111","3":"111","4":"112","5":"0.000000000","6":"0.017699115","7":"0.4431373","8":"13","9":"21","10":"#716F6F","11":"paris/xgkNiuqB_YE.png"},{"1":"173","2":"165","3":"152","4":"163","5":"0.103174603","6":"0.121387283","7":"0.6784314","8":"14","9":"21","10":"#ADA598","11":"paris/xPVekqC8voc.png"},{"1":"144","2":"134","3":"118","4":"132","5":"0.102564103","6":"0.180555556","7":"0.5647059","8":"15","9":"21","10":"#908676","11":"paris/XSl6VEp7LFg.png"},{"1":"32","2":"38","3":"36","4":"35","5":"0.444444444","6":"0.157894737","7":"0.1490196","8":"1","9":"22","10":"#202624","11":"paris/xzoD4P7Lu7M.png"},{"1":"185","2":"197","3":"202","4":"195","5":"0.549019608","6":"0.084158416","7":"0.7921569","8":"2","9":"22","10":"#B9C5CA","11":"paris/Ycds6emp7BA.png"},{"1":"181","2":"161","3":"130","4":"157","5":"0.101307190","6":"0.281767956","7":"0.7098039","8":"3","9":"22","10":"#B5A182","11":"paris/YEcRI8u7bUQ.png"},{"1":"134","2":"133","3":"136","4":"134","5":"0.722222222","6":"0.022058824","7":"0.5333333","8":"4","9":"22","10":"#868588","11":"paris/YjvAan7eJ9c.png"},{"1":"160","2":"116","3":"72","4":"116","5":"0.083333333","6":"0.550000000","7":"0.6274510","8":"5","9":"22","10":"#A07448","11":"paris/ySgSnJdPhZg.png"},{"1":"59","2":"49","3":"44","4":"51","5":"0.055555556","6":"0.254237288","7":"0.2313725","8":"6","9":"22","10":"#3B312C","11":"paris/yXXvJecrTQA.png"},{"1":"167","2":"158","3":"151","4":"159","5":"0.072916667","6":"0.095808383","7":"0.6549020","8":"7","9":"22","10":"#A79E97","11":"paris/z5pGZ8AGyK8.png"},{"1":"147","2":"135","3":"127","4":"136","5":"0.066666667","6":"0.136054422","7":"0.5764706","8":"8","9":"22","10":"#93877F","11":"paris/Z95viY3WaZs.png"},{"1":"139","2":"147","3":"155","4":"147","5":"0.583333333","6":"0.103225806","7":"0.6078431","8":"9","9":"22","10":"#8B939B","11":"paris/ZBn6cyQcZhU.png"},{"1":"133","2":"166","3":"177","4":"159","5":"0.541666667","6":"0.248587571","7":"0.6941176","8":"10","9":"22","10":"#85A6B1","11":"paris/ZfWaYV5ehyg.png"},{"1":"198","2":"202","3":"203","4":"201","5":"0.533333333","6":"0.024630542","7":"0.7960784","8":"11","9":"22","10":"#C6CACB","11":"paris/ZG5_505mUog.png"},{"1":"51","2":"51","3":"59","4":"54","5":"0.666666667","6":"0.135593220","7":"0.2313725","8":"12","9":"22","10":"#33333B","11":"paris/ZHP6JNIXtfQ.png"},{"1":"141","2":"149","3":"156","4":"149","5":"0.577777778","6":"0.096153846","7":"0.6117647","8":"13","9":"22","10":"#8D959C","11":"paris/zJeLWKkDLJU.png"},{"1":"179","2":"158","3":"153","4":"163","5":"0.032051282","6":"0.145251397","7":"0.7019608","8":"14","9":"22","10":"#B39E99","11":"paris/zlwDJoKTuA8.png"},{"1":"179","2":"146","3":"107","4":"144","5":"0.090277778","6":"0.402234637","7":"0.7019608","8":"15","9":"22","10":"#B3926B","11":"paris/ZmgJiztRHXE.png"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb30-1" data-line-number="1"><span class="co"># read in my eiffel tower drawing</span></a>
<a class="sourceLine" id="cb30-2" data-line-number="2"><span class="co"># scale down if needed to match grid size</span></a>
<a class="sourceLine" id="cb30-3" data-line-number="3"><span class="co"># and convert to black and white only</span></a>
<a class="sourceLine" id="cb30-4" data-line-number="4">tower &lt;-<span class="st"> </span><span class="kw">image_read</span>(<span class="st">&quot;eiffel.png&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-5" data-line-number="5"><span class="st">  </span><span class="kw">image_scale</span>(<span class="kw">paste0</span>(ncols,<span class="st">&quot;x&quot;</span>,ncols)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-6" data-line-number="6"><span class="st">  </span><span class="kw">image_convert</span>(<span class="dt">type=</span><span class="st">&quot;bilevel&quot;</span>)</a>
<a class="sourceLine" id="cb30-7" data-line-number="7"></a>
<a class="sourceLine" id="cb30-8" data-line-number="8"><span class="co"># if you&#39;ve used my drawing tool</span></a>
<a class="sourceLine" id="cb30-9" data-line-number="9"><span class="co"># the tower is white when converted</span></a>
<a class="sourceLine" id="cb30-10" data-line-number="10"><span class="co"># to black and white - check yours</span></a>
<a class="sourceLine" id="cb30-11" data-line-number="11">tower <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb30-12" data-line-number="12"><span class="st">  </span><span class="kw">image_scale</span>(<span class="st">&quot;400&quot;</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/je-taime-paris-1.png" width="200" /></p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb31-1" data-line-number="1"><span class="co"># read the image data for your tower</span></a>
<a class="sourceLine" id="cb31-2" data-line-number="2">hex_data &lt;-<span class="st"> </span><span class="kw">image_data</span>(tower)</a>
<a class="sourceLine" id="cb31-3" data-line-number="3">hex_colour &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;#&quot;</span>,hex_data, hex_data, hex_data)</a>
<a class="sourceLine" id="cb31-4" data-line-number="4"></a>
<a class="sourceLine" id="cb31-5" data-line-number="5"><span class="co"># create a data frame from the pixels</span></a>
<a class="sourceLine" id="cb31-6" data-line-number="6"><span class="co"># grab the coordinates then arrange from light</span></a>
<a class="sourceLine" id="cb31-7" data-line-number="7"><span class="co"># to dark e.g. #ffffff then #000000</span></a>
<a class="sourceLine" id="cb31-8" data-line-number="8"><span class="co"># if your tower is black, remove desc()</span></a>
<a class="sourceLine" id="cb31-9" data-line-number="9">pixelsdf &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">hex =</span> hex_colour) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-10" data-line-number="10"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">x =</span> (<span class="kw">row_number</span>() <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)<span class="op">%%</span>ncols <span class="op">+</span><span class="st"> </span><span class="dv">1</span>, <span class="dt">y =</span> <span class="kw">ceiling</span>(<span class="kw">row_number</span>()<span class="op">/</span>ncols)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-11" data-line-number="11"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(hex)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-12" data-line-number="12"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id=</span><span class="kw">row_number</span>())</a>
<a class="sourceLine" id="cb31-13" data-line-number="13"></a>
<a class="sourceLine" id="cb31-14" data-line-number="14"><span class="co"># how many white pixels (tower)</span></a>
<a class="sourceLine" id="cb31-15" data-line-number="15">pixelsdftower &lt;-<span class="st"> </span>pixelsdf <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-16" data-line-number="16"><span class="st">  </span><span class="kw">filter</span>(hex<span class="op">==</span><span class="st">&quot;#ffffff&quot;</span>)</a>
<a class="sourceLine" id="cb31-17" data-line-number="17"></a>
<a class="sourceLine" id="cb31-18" data-line-number="18"><span class="co"># arrange the paris images in order</span></a>
<a class="sourceLine" id="cb31-19" data-line-number="19"><span class="co"># from darkest to lightest</span></a>
<a class="sourceLine" id="cb31-20" data-line-number="20"><span class="co"># so in mosaic eiffel tower is black/dark</span></a>
<a class="sourceLine" id="cb31-21" data-line-number="21"><span class="co"># take how many you need for the tower</span></a>
<a class="sourceLine" id="cb31-22" data-line-number="22">towerpixels &lt;-<span class="st"> </span>colours <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-23" data-line-number="23"><span class="st">  </span><span class="kw">arrange</span>(light) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-24" data-line-number="24"><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(pixelsdftower))</a>
<a class="sourceLine" id="cb31-25" data-line-number="25"></a>
<a class="sourceLine" id="cb31-26" data-line-number="26"><span class="co"># the rest will be background</span></a>
<a class="sourceLine" id="cb31-27" data-line-number="27"><span class="co"># arrange by hue to kinda group colours</span></a>
<a class="sourceLine" id="cb31-28" data-line-number="28">backpixels &lt;-<span class="st"> </span>colours <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-29" data-line-number="29"><span class="st">  </span><span class="kw">arrange</span>(light) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-30" data-line-number="30"><span class="st">  </span><span class="kw">slice</span>((<span class="kw">nrow</span>(pixelsdftower)<span class="op">+</span><span class="dv">1</span>)<span class="op">:</span><span class="kw">nrow</span>(.)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-31" data-line-number="31"><span class="st">  </span><span class="kw">sample_n</span>(sample_size <span class="op">-</span><span class="st"> </span><span class="kw">nrow</span>(pixelsdftower)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-32" data-line-number="32"><span class="st">  </span><span class="kw">arrange</span>(<span class="kw">desc</span>(hue))</a>
<a class="sourceLine" id="cb31-33" data-line-number="33"></a>
<a class="sourceLine" id="cb31-34" data-line-number="34"><span class="co"># create a reference data frame for mosaic</span></a>
<a class="sourceLine" id="cb31-35" data-line-number="35">ref_colours &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(towerpixels,backpixels) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-36" data-line-number="36"><span class="st">  </span><span class="kw">mutate</span>(<span class="dt">id=</span><span class="kw">row_number</span>())</a>
<a class="sourceLine" id="cb31-37" data-line-number="37"></a>
<a class="sourceLine" id="cb31-38" data-line-number="38"><span class="co"># join the ref_colours and pixelsdf (tower)</span></a>
<a class="sourceLine" id="cb31-39" data-line-number="39">pixels &lt;-<span class="st"> </span>pixelsdf <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-40" data-line-number="40"><span class="st">  </span><span class="kw">left_join</span>(ref_colours, <span class="dt">by=</span><span class="st">&quot;id&quot;</span>)</a>
<a class="sourceLine" id="cb31-41" data-line-number="41"></a>
<a class="sourceLine" id="cb31-42" data-line-number="42"><span class="co"># separate them out to use some transparency</span></a>
<a class="sourceLine" id="cb31-43" data-line-number="43"><span class="co"># prob could incorporate this earlier!</span></a>
<a class="sourceLine" id="cb31-44" data-line-number="44">pixels_tower &lt;-<span class="st"> </span>pixels <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-45" data-line-number="45"><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span><span class="kw">nrow</span>(pixelsdftower))</a>
<a class="sourceLine" id="cb31-46" data-line-number="46"></a>
<a class="sourceLine" id="cb31-47" data-line-number="47">pixels_background &lt;-<span class="st"> </span>pixels <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb31-48" data-line-number="48"><span class="st">  </span><span class="kw">slice</span>((<span class="kw">nrow</span>(pixelsdftower)<span class="op">+</span><span class="dv">1</span>)<span class="op">:</span>sample_size)</a>
<a class="sourceLine" id="cb31-49" data-line-number="49"></a>
<a class="sourceLine" id="cb31-50" data-line-number="50"><span class="co"># first check of your creation!!</span></a>
<a class="sourceLine" id="cb31-51" data-line-number="51"><span class="kw">ggplot</span>(<span class="dt">data =</span> pixels) <span class="op">+</span></a>
<a class="sourceLine" id="cb31-52" data-line-number="52"><span class="st">  </span><span class="kw">geom_tile</span>(<span class="kw">aes</span>(x.x,y.x, <span class="dt">fill=</span>hex.y)) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb31-53" data-line-number="53"><span class="st">  </span><span class="kw">scale_fill_identity</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb31-54" data-line-number="54"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, ncols<span class="op">+</span><span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb31-55" data-line-number="55"><span class="st">  </span><span class="kw">scale_y_reverse</span>(<span class="dt">limits=</span><span class="kw">c</span>(ncols<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb31-56" data-line-number="56"><span class="st">  </span><span class="kw">theme_void</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb31-57" data-line-number="57"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">aspect.ratio=</span><span class="dv">1</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/je-taime-paris-3.png" width="672" /></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb32-1" data-line-number="1"><span class="co"># now with the actual images!!!</span></a>
<a class="sourceLine" id="cb32-2" data-line-number="2"><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb32-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_image</span>(<span class="dt">data=</span>pixels, </a>
<a class="sourceLine" id="cb32-4" data-line-number="4">             <span class="kw">aes</span>(x.x, y.x, <span class="dt">image=</span>imgLoc), </a>
<a class="sourceLine" id="cb32-5" data-line-number="5">             <span class="dt">size=</span><span class="dv">1</span><span class="op">/</span>(<span class="fl">1.1</span><span class="op">*</span>ncols)) <span class="op">+</span></a>
<a class="sourceLine" id="cb32-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_tile</span>(<span class="dt">data=</span>pixels, </a>
<a class="sourceLine" id="cb32-7" data-line-number="7">            <span class="kw">aes</span>(x.x,y.x, <span class="dt">fill=</span>hex.y), </a>
<a class="sourceLine" id="cb32-8" data-line-number="8">            <span class="dt">alpha=</span><span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb32-9" data-line-number="9"><span class="st">  </span><span class="kw">scale_fill_identity</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb32-10" data-line-number="10"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, ncols<span class="op">+</span><span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb32-11" data-line-number="11"><span class="st">  </span><span class="kw">scale_y_reverse</span>(<span class="dt">limits=</span><span class="kw">c</span>(ncols<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb32-12" data-line-number="12"><span class="st">  </span><span class="kw">theme_void</span>()  <span class="op">+</span></a>
<a class="sourceLine" id="cb32-13" data-line-number="13"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">aspect.ratio=</span><span class="dv">1</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/je-taime-paris-4.png" width="672" /></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb33-1" data-line-number="1"><span class="co"># we can use nullabor to create 19 additional versions</span></a>
<a class="sourceLine" id="cb33-2" data-line-number="2"><span class="co"># with the hex colour for the tile overlay randomly permuted</span></a>
<a class="sourceLine" id="cb33-3" data-line-number="3">pixels_fun &lt;-<span class="st"> </span><span class="kw">lineup</span>(<span class="kw">null_permute</span>(<span class="st">&quot;hex.y&quot;</span>), pixels)</a>
<a class="sourceLine" id="cb33-4" data-line-number="4"></a>
<a class="sourceLine" id="cb33-5" data-line-number="5"><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb33-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_image</span>(<span class="dt">data=</span>pixels_fun, </a>
<a class="sourceLine" id="cb33-7" data-line-number="7">             <span class="kw">aes</span>(x.x, y.x, <span class="dt">image=</span>imgLoc), </a>
<a class="sourceLine" id="cb33-8" data-line-number="8">             <span class="dt">size=</span><span class="dv">1</span><span class="op">/</span>(<span class="fl">1.1</span><span class="op">*</span>ncols)) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-9" data-line-number="9"><span class="st">  </span><span class="kw">geom_tile</span>(<span class="dt">data =</span> pixels_fun, </a>
<a class="sourceLine" id="cb33-10" data-line-number="10">            <span class="kw">aes</span>(x.x,y.x,<span class="dt">fill=</span>hex.y), </a>
<a class="sourceLine" id="cb33-11" data-line-number="11">            <span class="dt">alpha=</span><span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb33-12" data-line-number="12"><span class="st">  </span><span class="kw">scale_fill_identity</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb33-13" data-line-number="13"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, ncols<span class="op">+</span><span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-14" data-line-number="14"><span class="st">  </span><span class="kw">scale_y_reverse</span>(<span class="dt">limits=</span><span class="kw">c</span>(ncols<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-15" data-line-number="15"><span class="st">  </span><span class="kw">facet_wrap</span>(<span class="op">~</span>.sample) <span class="op">+</span></a>
<a class="sourceLine" id="cb33-16" data-line-number="16"><span class="st">  </span><span class="kw">theme_void</span>()  <span class="op">+</span></a>
<a class="sourceLine" id="cb33-17" data-line-number="17"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">aspect.ratio=</span><span class="dv">1</span>) </a></code></pre></div>
<p><img src="code_files/figure-html/je-taime-paris-5.png" width="672" /></p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb34-1" data-line-number="1"><span class="co"># using all 20 &quot;frames&quot; makes a massive GIF</span></a>
<a class="sourceLine" id="cb34-2" data-line-number="2"><span class="co"># so lets just go with five</span></a>
<a class="sourceLine" id="cb34-3" data-line-number="3"><span class="co"># making sure on of these is the &quot;real&quot; one</span></a>
<a class="sourceLine" id="cb34-4" data-line-number="4">real_frame &lt;-<span class="st"> </span>pixels_fun <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb34-5" data-line-number="5"><span class="st">  </span><span class="kw">filter</span>(.sample <span class="op">==</span><span class="st"> </span><span class="kw">attr</span>(pixels_fun, <span class="st">&quot;pos&quot;</span>))</a>
<a class="sourceLine" id="cb34-6" data-line-number="6"></a>
<a class="sourceLine" id="cb34-7" data-line-number="7">other_frames &lt;-<span class="st"> </span>pixels_fun <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb34-8" data-line-number="8"><span class="st">  </span><span class="kw">filter</span>(<span class="op">!</span>.sample <span class="op">==</span><span class="st"> </span><span class="kw">attr</span>(pixels_fun, <span class="st">&quot;pos&quot;</span>)) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb34-9" data-line-number="9"><span class="st">  </span><span class="kw">slice</span>(<span class="dv">1</span><span class="op">:</span>(sample_size<span class="op">*</span><span class="dv">4</span>))</a>
<a class="sourceLine" id="cb34-10" data-line-number="10"></a>
<a class="sourceLine" id="cb34-11" data-line-number="11">pixels_animate &lt;-<span class="st"> </span><span class="kw">bind_rows</span>(real_frame, other_frames)</a>
<a class="sourceLine" id="cb34-12" data-line-number="12"></a>
<a class="sourceLine" id="cb34-13" data-line-number="13"><span class="kw">ggplot</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb34-14" data-line-number="14"><span class="st">  </span><span class="kw">geom_image</span>(<span class="dt">data=</span>pixels_animate, </a>
<a class="sourceLine" id="cb34-15" data-line-number="15">             <span class="kw">aes</span>(x.x, y.x, <span class="dt">image=</span>imgLoc), </a>
<a class="sourceLine" id="cb34-16" data-line-number="16">             <span class="dt">size=</span><span class="dv">1</span><span class="op">/</span>(<span class="fl">1.1</span><span class="op">*</span>ncols)) <span class="op">+</span></a>
<a class="sourceLine" id="cb34-17" data-line-number="17"><span class="st">  </span><span class="kw">geom_tile</span>(<span class="dt">data =</span> pixels_animate, </a>
<a class="sourceLine" id="cb34-18" data-line-number="18">            <span class="kw">aes</span>(x.x,y.x, <span class="dt">fill=</span>hex.y), </a>
<a class="sourceLine" id="cb34-19" data-line-number="19">            <span class="dt">alpha=</span><span class="fl">0.5</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb34-20" data-line-number="20"><span class="st">  </span><span class="kw">scale_fill_identity</span>() <span class="op">+</span></a>
<a class="sourceLine" id="cb34-21" data-line-number="21"><span class="st">  </span><span class="kw">scale_x_continuous</span>(<span class="dt">limits=</span><span class="kw">c</span>(<span class="dv">0</span>, ncols<span class="op">+</span><span class="dv">1</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb34-22" data-line-number="22"><span class="st">  </span><span class="kw">scale_y_reverse</span>(<span class="dt">limits=</span><span class="kw">c</span>(ncols<span class="op">+</span><span class="dv">1</span>, <span class="dv">0</span>)) <span class="op">+</span></a>
<a class="sourceLine" id="cb34-23" data-line-number="23"><span class="st">  </span><span class="kw">theme_void</span>()  <span class="op">+</span></a>
<a class="sourceLine" id="cb34-24" data-line-number="24"><span class="st">  </span><span class="kw">theme</span>(<span class="dt">aspect.ratio=</span><span class="dv">1</span>) <span class="op">+</span><span class="st"> </span></a>
<a class="sourceLine" id="cb34-25" data-line-number="25"><span class="st">  </span><span class="kw">transition_states</span>(.sample,</a>
<a class="sourceLine" id="cb34-26" data-line-number="26">                    <span class="dt">transition_length =</span> <span class="dv">0</span>,</a>
<a class="sourceLine" id="cb34-27" data-line-number="27">                    <span class="dt">state_length =</span> <span class="fl">0.5</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/je-taime-paris-1.gif" /><!-- --></p>
</div>
<div id="paris-colours" class="section level3">
<h3>creating paint colours?</h3>
<p>One of the ladies at the workshop made a joke about how paint companies could create colours by reducing photos down to one colour using <code>magick::image_quantize(image, maxcol=1)</code>. So let’s make a colour palette of five colours using the Unsplash paris photos!</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb35-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb35-2" data-line-number="2"><span class="kw">library</span>(magick)</a>
<a class="sourceLine" id="cb35-3" data-line-number="3"></a>
<a class="sourceLine" id="cb35-4" data-line-number="4"><span class="co"># get the names of all the paris images</span></a>
<a class="sourceLine" id="cb35-5" data-line-number="5">folder &lt;-<span class="st"> &quot;paris/&quot;</span></a>
<a class="sourceLine" id="cb35-6" data-line-number="6">pics &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">imgLoc =</span> <span class="kw">paste0</span>(folder,<span class="kw">list.files</span>(<span class="dt">path=</span>folder)),<span class="dt">stringsAsFactors =</span> <span class="ot">FALSE</span>)</a>
<a class="sourceLine" id="cb35-7" data-line-number="7"></a>
<a class="sourceLine" id="cb35-8" data-line-number="8"><span class="co"># create a single &quot;image&quot; from these photos</span></a>
<a class="sourceLine" id="cb35-9" data-line-number="9"><span class="co"># by appending them after reducing to one pixel</span></a>
<a class="sourceLine" id="cb35-10" data-line-number="10"><span class="co"># and one colour</span></a>
<a class="sourceLine" id="cb35-11" data-line-number="11">colour_image &lt;-<span class="st"> </span>pics<span class="op">$</span>imgLoc <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb35-12" data-line-number="12"><span class="st">  </span><span class="kw">image_read</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb35-13" data-line-number="13"><span class="st">  </span><span class="kw">image_quantize</span>(<span class="dt">max=</span><span class="dv">1</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb35-14" data-line-number="14"><span class="st">  </span><span class="kw">image_scale</span>(<span class="st">&quot;1&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb35-15" data-line-number="15"><span class="st">  </span><span class="kw">image_append</span>()</a>
<a class="sourceLine" id="cb35-16" data-line-number="16"></a>
<a class="sourceLine" id="cb35-17" data-line-number="17"><span class="co"># some of the 330 colours</span></a>
<a class="sourceLine" id="cb35-18" data-line-number="18">colour_image <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb35-19" data-line-number="19"><span class="st">  </span><span class="kw">image_crop</span>(<span class="st">&quot;+300&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb35-20" data-line-number="20"><span class="st">  </span><span class="kw">image_scale</span>(<span class="st">&quot;500&quot;</span>)</a></code></pre></div>
<p><img src="code_files/figure-html/colour-my-world-1.png" width="250" /></p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb36-1" data-line-number="1"><span class="co"># reduce this image down to five colours</span></a>
<a class="sourceLine" id="cb36-2" data-line-number="2"><span class="co"># and get the hexcodes for each colour</span></a>
<a class="sourceLine" id="cb36-3" data-line-number="3">colour_data &lt;-<span class="st"> </span>colour_image <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-4" data-line-number="4"><span class="st">  </span><span class="kw">image_quantize</span>(<span class="dt">max=</span><span class="dv">5</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb36-5" data-line-number="5"><span class="st">  </span><span class="kw">image_data</span>()</a>
<a class="sourceLine" id="cb36-6" data-line-number="6"></a>
<a class="sourceLine" id="cb36-7" data-line-number="7">hex_colours &lt;-<span class="st"> </span><span class="kw">paste0</span>(<span class="st">&quot;#&quot;</span>, </a>
<a class="sourceLine" id="cb36-8" data-line-number="8">                           colour_data[<span class="dv">1</span>,,], </a>
<a class="sourceLine" id="cb36-9" data-line-number="9">                           colour_data[<span class="dv">2</span>,,],</a>
<a class="sourceLine" id="cb36-10" data-line-number="10">                           colour_data[<span class="dv">3</span>,,])</a>
<a class="sourceLine" id="cb36-11" data-line-number="11"><span class="kw">unique</span>(hex_colours)</a></code></pre></div>
<pre><code>## [1] &quot;#908382&quot; &quot;#d1cecf&quot; &quot;#696462&quot; &quot;#a4a2a3&quot; &quot;#b5b5b8&quot;</code></pre>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb38-1" data-line-number="1"><span class="co"># create a palette</span></a>
<a class="sourceLine" id="cb38-2" data-line-number="2"><span class="kw">unique</span>(hex_colours) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-3" data-line-number="3"><span class="st">  </span><span class="kw">map</span>(<span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb38-4" data-line-number="4">     <span class="kw">image_blank</span>(<span class="dt">width =</span> <span class="dv">100</span>, </a>
<a class="sourceLine" id="cb38-5" data-line-number="5">              <span class="dt">height =</span> <span class="dv">300</span>, </a>
<a class="sourceLine" id="cb38-6" data-line-number="6">              <span class="dt">color =</span> <span class="kw">as.character</span>(x))</a>
<a class="sourceLine" id="cb38-7" data-line-number="7">  }) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-8" data-line-number="8"><span class="st">  </span><span class="kw">image_join</span>() <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb38-9" data-line-number="9"><span class="st">  </span><span class="kw">image_append</span>()</a></code></pre></div>
<p><img src="code_files/figure-html/colour-my-world-2.png" width="250" /></p>
</div>
</div>

<hr />
Website and workshop materials developed by Anna Fergusson for the <a href="https://www.meetup.com/rladies-auckland/events/255112995/">R-Ladies Auckland October 2018 Meetup</a>.


</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
